{"version":3,"sources":["webpack:///src/views/employee/my/index.vue","webpack:///./src/views/employee/my/index.vue?2ea7","webpack:///./src/views/employee/my/index.vue"],"names":["my","TEXT","URL","SUBMIT","SAVE_DRAFT","APPEAL","CANCEL_APPEAL","LABEL_SELF","LABEL_SUP","LEADER_NUMBER","LEADER_NAME","__webpack_require__","e","then","bind","parseFloat","this","superior_score","score","targets","map","v","myAdditionMark","toFixed","_this","getPostData","orgID","$route","params","id","postData","res","getDetailInfo","catch","mark","total","_this2","superior_workcode","need_attach_score","stage","self_attach_score","superior_attach_score","superior_name","score_level","level","_this3","$confirm","concat","total_score","target_self_score","target_superior_score","_this4","getInfo","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","list","nav","_v","_s","constants","basicInfo","_l","i","key","readOnly","config","cardConfig","data","model","value","callback","$$v","$set","expression","comments","evaluation","on","update:comments","$event","prefixTitle","desc","update:desc","update:mark","_e","leaderAdditionMark","type","justify","round","size","click","saveDraft","submit","visible","cancel","close","update:visible","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","Object","component_normalizer","__webpack_exports__"],"mappings":"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","file":"js/12.a2b2f812.js","sourcesContent":["<template>\n  <div class=\"my-grade-page\">\n    <nav-bar :list=\"nav\"></nav-bar>\n    <section class=\"content-container\">\n      <div class=\"basic-info\">\n        <span class=\"label\">基本信息:</span>\n        <span>\n          <span class=\"greycolor\">{{constants.LEADER_NUMBER}}</span> / {{basicInfo.superior_workcode}} &nbsp;&nbsp;\n          <span class=\"greycolor\">{{constants.LEADER_NAME}}</span> / {{basicInfo.superior_name}}</span>&nbsp;&nbsp;&nbsp;&nbsp;\n        <span class=\"tip\">注: 若上级姓名工号与实际不符, 请联系HR</span>\n      </div>\n      <br>\n      <card :readOnly=\"readOnly\" :config=\"cardConfig\" class=\"card\" v-for=\"(v,i) of targets\" v-model=\"targets[i].mark\" :data=\"v\" :key=\"i\"></card>\n      <br>\n      <div>\n        <comments :readOnly=\"true\" :comments.sync=\"superior_score&&superior_score.evaluation\"></comments>\n        <br>\n      </div>\n      <div v-if=\"showMyAdditional\">\n        <addition-mark :prefixTitle=\"constants.LABEL_SELF\" :readOnly=\"readOnly\" :desc.sync=\"myAdditionMark.evaluation\" :mark.sync=\"myAdditionMark.score\"></addition-mark>\n        <br>\n      </div>\n      <div v-if=\"leaderAdditionMark.evaluation\">\n        <addition-mark :readOnly=\"true\" :prefixTitle=\"constants.LABEL_SUP\" :desc.sync=\"leaderAdditionMark.evaluation\" :mark.sync=\"leaderAdditionMark.score\"></addition-mark>\n        <br>\n      </div>\n      <div v-if=\"showTotal\">\n        <total-mark :total=\"total\"></total-mark>\n        <br>\n      </div>\n      <div>\n        <level v-if=\"level\" :readOnly=\"true\" v-model=\"level\"></level>\n        <br>\n      </div>\n      <el-row v-if=\"canEdit\" type=\"flex\" justify=\"center\">\n        <el-button round size=\"medium\" @click=\"saveDraft\" class=\"btn-reset\">{{constants.SAVE_DRAFT}}</el-button>\n        <el-button round size=\"medium\" @click=\"submit\" type=\"primary\">{{constants.SUBMIT}}</el-button>\n      </el-row>\n      <el-row v-if=\"canReject\" type=\"flex\" justify=\"center\">\n        <div>\n          到期讲默认确认结果, 如有问题可\n          <el-button @click=\"visible=true\" type=\"text\">{{constants.APPEAL}}</el-button>\n        </div>\n      </el-row>\n      <el-row v-if=\"cancelReject\" type=\"flex\" justify=\"center\">\n        <el-button @click=\"cancel\" type=\"primary\" round size=\"medium\">{{constants.CANCEL_APPEAL}}</el-button>\n      </el-row>\n      <reject-dialog @close=\"getInfo\" :visible.sync=\"visible\"></reject-dialog>\n    </section>\n  </div>\n</template>\n<script>\nimport {\n  MY_GRADE,\n  SUBMIT,\n  SAVE_DRAFT,\n  APPEAL,\n  CANCEL_APPEAL,\n  LABEL_SELF,\n  LABEL_SUP,\n  LEADER_NUMBER,\n  LEADER_NAME,\n  ERROR,\n  CONFIRM,\n  CANCEL,\n  CONST_ADD_SUCCESS\n} from \"@/constants/TEXT\";\nimport {\n  getEmployeeDetail,\n  postUserPerformanceDraft,\n  postSelfPerformance,\n  delCancelAppeal\n} from \"@/constants/API\";\n\nimport { PATH_EMPLOYEE_MY } from \"@/constants/URL\";\n\nexport default {\n  data() {\n    return {\n      basicInfo: {},\n      readOnly: false,\n      canEdit: false,\n      canReject: false,\n      showTotal: false,\n      cancelReject: false,\n      myAdditionMark: {},\n      leaderAdditionMark: {},\n      superior_score: {},\n      need_attach_score: \"\",\n      visible: false,\n      level: \"\",\n      targets: [],\n      cardConfig: {\n        min: 0,\n        max: 5,\n        step: 0.1\n      },\n      nav: [\n        {\n          label: MY_GRADE,\n          href: PATH_EMPLOYEE_MY\n        },\n        {\n          label: \"评分详情\",\n          active: true\n        }\n      ],\n      constants: {\n        SUBMIT,\n        SAVE_DRAFT,\n        APPEAL,\n        CANCEL_APPEAL,\n        LABEL_SELF,\n        LABEL_SUP,\n        LEADER_NUMBER,\n        LEADER_NAME\n      }\n    };\n  },\n  components: {\n    \"nav-bar\": () => import(\"@/components/common/Navbar/index.vue\"),\n    pagination: () => import(\"@/components/common/Pagination/index.vue\"),\n    card: () => import(\"@/components/modules/employee/gradeCard/index.vue\"),\n    \"addition-mark\": () =>\n      import(\"@/components/modules/employee/additionalMark/index.vue\"),\n    \"total-mark\": () =>\n      import(\"@/components/modules/employee/totalMark/index.vue\"),\n    level: () => import(\"@/components/modules/employee/finalLevel/index.vue\"),\n    \"reject-dialog\": () =>\n      import(\"@/components/modules/employee/appealConfirm/index.vue\"),\n    comments: () =>\n      import(\"@/components/modules/employee/leaderComments/index.vue\")\n  },\n  computed: {\n    showMyAdditional() {\n      return this.need_attach_score == 1;\n    },\n    total() {\n      return this.superior_score && this.superior_score.score != null\n        ? parseFloat(this.superior_score.score)\n        : parseFloat(\n            this.targets\n              .map(v => v.weights * (v.mark || 0))\n              .reduce((pre, next) => pre + next, 0) +\n              (this.myAdditionMark.score || 0)\n          ).toFixed(2);\n    }\n  },\n  methods: {\n    saveDraft() {\n      const postData = this.getPostData();\n\n      return postUserPerformanceDraft(\n        this.$route.params.orgID,\n        this.$route.params.id,\n        postData\n      )\n        .then(res => {\n          this.$message({\n            type: \"success\",\n            message: \"草稿保存成功\"\n          });\n          this.getDetailInfo();\n        })\n        .catch(e => {});\n    },\n    getPostData() {\n      // console.log(this.$route.params)\n      return {\n        score: this.targets.map(({ id, mark }) => ({\n          target_id: id,\n          score: mark\n        })),\n        attach_score: {\n          score: this.myAdditionMark.score || 0,\n          reason: this.myAdditionMark.evaluation || \"\"\n        },\n        total_score: this.total\n        // score_level: this.level,\n        // evaluation: this.comments\n      };\n    },\n    checkTotal() {\n      return parseFloat(this.total) > 5;\n    },\n    getInfo() {\n      return getEmployeeDetail(this.$route.params.orgID, this.$route.params.id)\n        .then(res => {\n          // console.log(res)\n          const {\n            targets,\n            superior_workcode,\n            need_attach_score,\n            stage,\n            self_attach_score,\n            superior_attach_score,\n            superior_score,\n            superior_name,\n            score_level\n          } = res;\n          this.basicInfo = {\n            superior_workcode,\n            superior_name\n          };\n          this.need_attach_score = need_attach_score;\n          this.myAdditionMark = self_attach_score || {};\n          this.leaderAdditionMark = superior_attach_score || {};\n          this.level =\n            score_level || (superior_score && superior_score.score_level);\n          this.superior_score = superior_score;\n          this.composeData(targets, stage);\n        })\n        .catch(e => {});\n    },\n    submit() {\n      // 若模版选择了加减分，需要填写加减分理由，必填上限200\n      // 自评分不能超过5分\n      if (this.checkTotal()) {\n        return this.$notify.error({\n          title: ERROR,\n          message: \"总分已经超过5分\"\n        });\n      }\n      this.$confirm(\n        `自评分为${\n          this.total\n        }分，请确认无误再提交，一经提交无法修改, 是否继续?`,\n        \"提示\",\n        {\n          confirmButtonText: CONFIRM,\n          cancelButtonText: CANCEL,\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          let postData = this.getPostData();\n          delete postData.total_score;\n          return postSelfPerformance(this.$route.params.id, postData)\n            .then(res => {\n              this.$message({\n                type: \"success\",\n                message: CONST_ADD_SUCCESS\n              });\n              this.$router.replace(PATH_EMPLOYEE_MY);\n              // this.getInfo();\n            })\n            .catch(e => {});\n        })\n        .catch(() => {});\n    },\n    composeData(targets, stage) {\n      switch (stage) {\n        case 10:\n          // 已导入\n          this.readOnly = true;\n          this.targets = targets.map(v => {\n            delete v.target_self_score;\n            delete v.target_superior_score;\n            return v;\n          });\n          this.need_attach_score = \"\";\n          this.canEdit = false;\n          this.showTotal = false;\n          break;\n        case 20:\n          this.readOnly = false;\n          this.canEdit = true;\n          this.showTotal = true;\n          this.targets = targets.map(v => {\n            v.mark = (v.target_self_score && v.target_self_score.score) || 0;\n            delete v.target_self_score;\n            delete v.target_superior_score;\n            return v;\n          });\n          break;\n        case 30:\n          this.readOnly = true;\n          this.canEdit = false;\n          this.showTotal = true;\n          // this.targets = targets\n          this.targets = targets.map(v => {\n            v.mark = (v.target_self_score && v.target_self_score.score) || 0;\n            return v;\n          });\n          break;\n        case 40:\n          this.readOnly = true;\n          this.canEdit = false;\n          this.showTotal = true;\n          // this.targets = targets\n          this.targets = targets.map(v => {\n            v.mark = (v.target_self_score && v.target_self_score.score) || 0;\n            return v;\n          });\n          this.canReject = true;\n          this.cancelReject = false;\n          break;\n        case 50:\n          this.readOnly = true;\n          this.canEdit = false;\n          this.showTotal = true;\n          // this.targets = targets\n          this.targets = targets.map(v => {\n            v.mark = (v.target_self_score && v.target_self_score.score) || 0;\n            return v;\n          });\n          this.canReject = false;\n          this.cancelReject = true;\n          break;\n        default:\n          this.readOnly = true;\n          this.canEdit = false;\n          this.showTotal = true;\n          this.targets = targets.map(v => {\n            v.mark = (v.target_self_score && v.target_self_score.score) || 0;\n            return v;\n          });\n          this.canReject = false;\n          this.cancelReject = false;\n      }\n    },\n    cancel() {\n      return delCancelAppeal({\n        performance_user_id: this.$route.params.id\n      })\n        .then(res => {\n          this.$message({\n            type: \"success\",\n            message: \"取消成功!\"\n          });\n          this.getInfo();\n        })\n        .catch(e => {});\n    }\n  },\n  created() {\n    this.getInfo();\n  }\n};\n</script>\n<style scoped>\n.my-grade-page .card {\n  margin-bottom: 20px;\n}\n.my-grade-page .basic-info {\n  background: white;\n  padding: 20px;\n}\n.my-grade-page .summary-section {\n  background: white;\n  padding: 20px 20px 20px 0;\n}\n.my-grade-page .summary-section >>> .el-step__icon.is-text {\n  border: none;\n}\n.my-grade-page .summary-section >>> .el-step__icon {\n  width: 56px;\n}\n.my-grade-page .label {\n  margin-right: 20px;\n  color: #778294;\n  width: 100px;\n  min-width: 100px;\n  height: 26px;\n  box-sizing: border-box;\n  line-height: 26px;\n  padding: 0 10px;\n}\n.my-grade-page .label.title {\n  background-color: #52ddab;\n  color: white;\n  border-radius: 0 13px 13px 0;\n}\n.my-grade-page .tip {\n  color: #ea7754;\n}\n.my-grade-page .greycolor {\n  color: #778294;\n}\n\n.my-grade-page .inner-container {\n  display: flex;\n  color: grey;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/employee/my/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"my-grade-page\"},[_c('nav-bar',{attrs:{\"list\":_vm.nav}}),_c('section',{staticClass:\"content-container\"},[_c('div',{staticClass:\"basic-info\"},[_c('span',{staticClass:\"label\"},[_vm._v(\"基本信息:\")]),_c('span',[_c('span',{staticClass:\"greycolor\"},[_vm._v(_vm._s(_vm.constants.LEADER_NUMBER))]),_vm._v(\" / \"+_vm._s(_vm.basicInfo.superior_workcode)+\"   \\n        \"),_c('span',{staticClass:\"greycolor\"},[_vm._v(_vm._s(_vm.constants.LEADER_NAME))]),_vm._v(\" / \"+_vm._s(_vm.basicInfo.superior_name))]),_vm._v(\"    \\n      \"),_c('span',{staticClass:\"tip\"},[_vm._v(\"注: 若上级姓名工号与实际不符, 请联系HR\")])]),_c('br'),_vm._l((_vm.targets),function(v,i){return _c('card',{key:i,staticClass:\"card\",attrs:{\"readOnly\":_vm.readOnly,\"config\":_vm.cardConfig,\"data\":v},model:{value:(_vm.targets[i].mark),callback:function ($$v) {_vm.$set(_vm.targets[i], \"mark\", $$v)},expression:\"targets[i].mark\"}})}),_c('br'),_c('div',[_c('comments',{attrs:{\"readOnly\":true,\"comments\":_vm.superior_score&&_vm.superior_score.evaluation},on:{\"update:comments\":function($event){_vm.$set(_vm.superior_score&&_vm.superior_score, \"evaluation\", $event)}}}),_c('br')],1),(_vm.showMyAdditional)?_c('div',[_c('addition-mark',{attrs:{\"prefixTitle\":_vm.constants.LABEL_SELF,\"readOnly\":_vm.readOnly,\"desc\":_vm.myAdditionMark.evaluation,\"mark\":_vm.myAdditionMark.score},on:{\"update:desc\":function($event){_vm.$set(_vm.myAdditionMark, \"evaluation\", $event)},\"update:mark\":function($event){_vm.$set(_vm.myAdditionMark, \"score\", $event)}}}),_c('br')],1):_vm._e(),(_vm.leaderAdditionMark.evaluation)?_c('div',[_c('addition-mark',{attrs:{\"readOnly\":true,\"prefixTitle\":_vm.constants.LABEL_SUP,\"desc\":_vm.leaderAdditionMark.evaluation,\"mark\":_vm.leaderAdditionMark.score},on:{\"update:desc\":function($event){_vm.$set(_vm.leaderAdditionMark, \"evaluation\", $event)},\"update:mark\":function($event){_vm.$set(_vm.leaderAdditionMark, \"score\", $event)}}}),_c('br')],1):_vm._e(),(_vm.showTotal)?_c('div',[_c('total-mark',{attrs:{\"total\":_vm.total}}),_c('br')],1):_vm._e(),_c('div',[(_vm.level)?_c('level',{attrs:{\"readOnly\":true},model:{value:(_vm.level),callback:function ($$v) {_vm.level=$$v},expression:\"level\"}}):_vm._e(),_c('br')],1),(_vm.canEdit)?_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-button',{staticClass:\"btn-reset\",attrs:{\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.saveDraft}},[_vm._v(_vm._s(_vm.constants.SAVE_DRAFT))]),_c('el-button',{attrs:{\"round\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.constants.SUBMIT))])],1):_vm._e(),(_vm.canReject)?_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('div',[_vm._v(\"\\n        到期讲默认确认结果, 如有问题可\\n        \"),_c('el-button',{attrs:{\"type\":\"text\"},on:{\"click\":function($event){_vm.visible=true}}},[_vm._v(_vm._s(_vm.constants.APPEAL))])],1)]):_vm._e(),(_vm.cancelReject)?_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.cancel}},[_vm._v(_vm._s(_vm.constants.CANCEL_APPEAL))])],1):_vm._e(),_c('reject-dialog',{attrs:{\"visible\":_vm.visible},on:{\"close\":_vm.getInfo,\"update:visible\":function($event){_vm.visible=$event}}})],2)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7b7dbf2c\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/employee/my/index.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7b7dbf2c\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7b7dbf2c\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7b7dbf2c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/employee/my/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}