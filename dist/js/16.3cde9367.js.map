{"version":3,"sources":["webpack:///src/views/employee/team/index.vue","webpack:///./src/views/employee/team/index.vue?d8e5","webpack:///./src/views/employee/team/index.vue"],"names":["team","TEXT","URL","DETAILS","SELF_EVALUATION","LABEL_NAME","LABEL_SUP","OPERATIONS","APPEAL","LABEL_EMPTY","Object","asyncCom","__webpack_require__","e","then","bind","resetFields","push","this","$route","params","id","row","_this","data","res","user","total","overview","catch","val","name","status","postData","render","_vm","_h","$createElement","_c","_self","attrs","list","nav","staticClass","ref","inline","model","filterForm","prop","placeholder","value","callback","$$v","$set","expression","label","staticStyle","margin-left","round","on","click","$event","resetForm","_v","_s","constants","type","gutter","align","span","width","tableData","stripe","min-width","scopedSlots","_u","key","fn","scope","margin-right","height","src","alt","_e","size","goDetail","justify","currentPage","current-change","handleCurrentChange","chartData","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","component_normalizer","__webpack_exports__"],"mappings":"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","file":"js/16.3cde9367.js","sourcesContent":["<template>\n  <div>\n    <nav-bar :list=\"nav\"></nav-bar>\n    <section class=\"content-container\">\n      <section>\n        <el-form :inline=\"true\" :model=\"filterForm\" ref=\"filterForm\">\n          <el-form-item prop=\"name\">\n            <el-input placeholder=\"请输入姓名\" v-model=\"filterForm.name\"></el-input>\n          </el-form-item>\n          <el-form-item prop=\"status\">\n            <el-select v-model=\"filterForm.status\" placeholder=\"请选择\">\n              <el-option label=\"未完成\" value=\"0\"></el-option>\n              <el-option label=\"已完成\" value=\"1\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-button style=\"margin-left:30px\" round @click=\"resetForm('filterForm')\">{{constants.LABEL_EMPTY}}</el-button>\n        </el-form>\n      </section>\n      <section>\n        <el-row type=\"flex\" :gutter=\"20\" align=\"top\">\n          <el-col :span=\"18\">\n            <el-table :data=\"tableData\" stripe style=\"width: 100%\">\n              <el-table-column prop=\"name\" :label=\"constants.LABEL_NAME\" min-width=\"180\">\n                <template slot-scope=\"scope\">\n                  <el-row type=\"flex\" align=\"middle\">\n                    <img width=\"30px\" height=\"30px\" style=\"margin-right:15px\" :src=\"`${scope.row.avatar}_30x30q100.jpg`\" alt=\"\">\n                    <span>{{scope.row.name}}</span>\n                    <span class=\"appeal-tag\" v-if=\"scope.row.has_appeal\">{{constants.APPEAL}}</span>\n                  </el-row>\n                </template>\n              </el-table-column>\n              <el-table-column prop=\"self_score\" :label=\"constants.SELF_EVALUATION\" width=\"180\">\n              </el-table-column>\n              <el-table-column prop=\"superior_score\" :label=\"constants.LABEL_SUP\">\n              </el-table-column>\n              <el-table-column prop=\"score_level\" label=\"对应等级\">\n              </el-table-column>\n              <el-table-column prop=\"ops\" :label=\"constants.OPERATIONS\">\n                <template slot-scope=\"scope\">\n                  <el-button @click=\"goDetail(scope.row)\" type=\"text\" size=\"small\">{{constants.DETAILS}}</el-button>\n                </template>\n              </el-table-column>\n            </el-table>\n            <br>\n            <el-row type=\"flex\" justify=\"end\">\n              <pagination @current-change=\"handleCurrentChange\" :currentPage=\"currentPage\" :total=\"total\"></pagination>\n            </el-row>\n          </el-col>\n          <el-col :span=\"6\">\n            <peformance-pie :data=\"chartData\"></peformance-pie>\n          </el-col>\n        </el-row>\n      </section>\n    </section>\n  </div>\n</template>\n<script>\nimport {\n  TEAM_GRADE,\n  DETAILS,\n  SELF_EVALUATION,\n  LABEL_NAME,\n  LABEL_SUP,\n  OPERATIONS,\n  APPEAL,\n  LABEL_EMPTY,\n  GRADE_MANAGE\n} from \"@/constants/TEXT\";\nimport {\n  PATH_EMPLOYEE_TEAM_MEMEBER,\n  PATH_EMPLOYEE_TEAM\n} from \"@/constants/URL\";\nimport { AsyncComp } from \"@/utils/asyncCom\";\nimport { getTeamList } from \"@/constants/API\";\n\nexport default {\n  data() {\n    return {\n      total: 0,\n      currentPage: 1,\n      filterForm: {\n        status: \"\",\n        name: \"\"\n      },\n      chartData: [],\n      nav: [\n        {\n          label: TEAM_GRADE,\n          href: PATH_EMPLOYEE_TEAM\n        },\n        {\n          label: GRADE_MANAGE,\n          active: true\n        }\n      ],\n      tableData: [],\n      constants: {\n        DETAILS,\n        SELF_EVALUATION,\n        LABEL_NAME,\n        LABEL_SUP,\n        OPERATIONS,\n        APPEAL,\n        LABEL_EMPTY\n      }\n    };\n  },\n  components: {\n    \"nav-bar\": () => import(\"@/components/common/Navbar/index.vue\"),\n    \"peformance-pie\": AsyncComp(\n      import(\"@/components/modules/performance/GradePie/index.vue\")\n    ),\n    pagination: () => import(\"@/components/common/Pagination/index.vue\")\n  },\n  methods: {\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n    goDetail(row) {\n      this.$router.push(\n        PATH_EMPLOYEE_TEAM_MEMEBER(this.$route.params.id, row.id)\n      );\n    },\n    refreshList(data) {\n      return getTeamList(this.$route.params.id, data)\n        .then(res => {\n          const { user, overview } = res;\n          this.tableData = user.data;\n          this.total = user.total;\n          this.chartData = overview;\n        })\n        .catch(e => {});\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.refreshList({\n        page: val,\n        name: this.filterForm.name,\n        superior_status: this.filterForm.status\n      });\n    }\n  },\n  watch: {\n    filterForm: {\n      handler: function(v) {\n        const postData = {\n          name: v.name,\n          superior_status: v.status,\n          page: 1\n        };\n        this.refreshList(postData);\n        this.currentPage = 1;\n      },\n      deep: true,\n      immediate: true\n    }\n  }\n};\n</script>\n<style scoped>\n.appeal-tag {\n  padding: 5px;\n  background: lightcoral;\n  color: white;\n  border-radius: 10px;\n  margin-left: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/views/employee/team/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav-bar',{attrs:{\"list\":_vm.nav}}),_c('section',{staticClass:\"content-container\"},[_c('section',[_c('el-form',{ref:\"filterForm\",attrs:{\"inline\":true,\"model\":_vm.filterForm}},[_c('el-form-item',{attrs:{\"prop\":\"name\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.filterForm.name),callback:function ($$v) {_vm.$set(_vm.filterForm, \"name\", $$v)},expression:\"filterForm.name\"}})],1),_c('el-form-item',{attrs:{\"prop\":\"status\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.filterForm.status),callback:function ($$v) {_vm.$set(_vm.filterForm, \"status\", $$v)},expression:\"filterForm.status\"}},[_c('el-option',{attrs:{\"label\":\"未完成\",\"value\":\"0\"}}),_c('el-option',{attrs:{\"label\":\"已完成\",\"value\":\"1\"}})],1)],1),_c('el-button',{staticStyle:{\"margin-left\":\"30px\"},attrs:{\"round\":\"\"},on:{\"click\":function($event){_vm.resetForm('filterForm')}}},[_vm._v(_vm._s(_vm.constants.LABEL_EMPTY))])],1)],1),_c('section',[_c('el-row',{attrs:{\"type\":\"flex\",\"gutter\":20,\"align\":\"top\"}},[_c('el-col',{attrs:{\"span\":18}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"name\",\"label\":_vm.constants.LABEL_NAME,\"min-width\":\"180\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-row',{attrs:{\"type\":\"flex\",\"align\":\"middle\"}},[_c('img',{staticStyle:{\"margin-right\":\"15px\"},attrs:{\"width\":\"30px\",\"height\":\"30px\",\"src\":((scope.row.avatar) + \"_30x30q100.jpg\"),\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(scope.row.name))]),(scope.row.has_appeal)?_c('span',{staticClass:\"appeal-tag\"},[_vm._v(_vm._s(_vm.constants.APPEAL))]):_vm._e()])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"self_score\",\"label\":_vm.constants.SELF_EVALUATION,\"width\":\"180\"}}),_c('el-table-column',{attrs:{\"prop\":\"superior_score\",\"label\":_vm.constants.LABEL_SUP}}),_c('el-table-column',{attrs:{\"prop\":\"score_level\",\"label\":\"对应等级\"}}),_c('el-table-column',{attrs:{\"prop\":\"ops\",\"label\":_vm.constants.OPERATIONS},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.goDetail(scope.row)}}},[_vm._v(_vm._s(_vm.constants.DETAILS))])]}}])})],1),_c('br'),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"end\"}},[_c('pagination',{attrs:{\"currentPage\":_vm.currentPage,\"total\":_vm.total},on:{\"current-change\":_vm.handleCurrentChange}})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('peformance-pie',{attrs:{\"data\":_vm.chartData}})],1)],1)],1)])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-46b9a32c\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/employee/team/index.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-46b9a32c\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-46b9a32c\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-46b9a32c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/employee/team/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}