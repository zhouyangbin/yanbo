{"version":3,"sources":["webpack:///src/components/modules/usermanage/UserDialog.vue","webpack:///./src/components/modules/usermanage/UserDialog.vue?d52e","webpack:///./src/components/modules/usermanage/UserDialog.vue"],"names":["UserDialog","LABEL_NAME","TEXT","LABEL_TAL_EMAIL","LABEL_DEPARTMENT","LABEL_CONFIRM","LABEL_CANCEL","Boolean","String","Object","Function","Array","_this","this","userForm","email","name","department_id","closeDialog","$emit","assign","queryString","value","res","i","workcode","department","catch","err","render","_vm","_h","$createElement","_c","_self","attrs","title","visible","width","center","before-close","on","update:visible","$event","staticClass","staticStyle","fetch-suggestions","querySearchAsync","placeholder","constants","disabled","autofocus","select","handleSelect","model","callback","$$v","$set","expression","type","auto-complete","options","departments","separator","change","changeDepartment","slot","round","click","handelSubmit","_v","_s","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","component_normalizer","__webpack_exports__"],"mappings":"oIA8BAA,qCAKAC,WAAAC,EAAA,OACAC,gBAAAD,EAAA,OACAE,iBAAAF,EAAA,OACAG,cAAAH,EAAA,OAGAI,aAAAJ,EAAA,8BAIAK,iBAEA,eAEAC,eAEA,uBAEAC,yEAEA,qBAEAF,iBAEA,gBAEAG,oEAIAC,qDAIAA,kGAMA,4BAEA,IAAAC,EAAAC,KACAA,KAAAC,SACAC,OAAAF,KAAAC,SACAE,MAAAH,KAAAC,SACAG,+CASAC,uCANA,yBAEA,iDASAC,MACA,kBAAAV,OAAAW,UAAAP,KAAAC,eAEA,8BAEAO,0BAEA,oCAEAC,MAAAC,EAAAC,GACAR,KACA,MAAAO,EAAAC,GACAC,SACA,MAAAF,EAAAC,GACAE,aAEAH,MAEAI,MAAA,SAAAC,gDAWAT,MACA,kBAAAV,OAAAW,UAAAP,KAAAC,kBAEAC,aACAC,aAGAS,+CAIAN,MACA,kBAAAV,OAAAW,UAAAP,KAAAC,mCAIA,SC5IAe,EAAA,WAA0B,IAAAC,EAAAjB,KAAakB,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBE,OAAOC,MAAAN,EAAAM,MAAAC,QAAAP,EAAAO,QAAAC,MAAA,MAAAC,OAAA,GAAAC,eAAAV,EAAAZ,aAAiGuB,IAAKC,iBAAA,SAAAC,GAAkCb,EAAAO,QAAAM,MAAqBV,EAAA,WAAgBW,YAAA,cAAwBX,EAAA,gBAAAA,EAAA,mBAA2CY,aAAaP,MAAA,QAAeH,OAAQW,oBAAAhB,EAAAiB,iBAAAC,YAAAlB,EAAAmB,UAAA9C,gBAAA+C,SAAApB,EAAAoB,SAAAC,WAAA,GAA8HV,IAAKW,OAAAtB,EAAAuB,cAA0BC,OAAQhC,MAAAQ,EAAAhB,SAAA,MAAAyC,SAAA,SAAAC,GAAoD1B,EAAA2B,KAAA3B,EAAAhB,SAAA,QAAA0C,IAAqCE,WAAA,qBAA8B,GAAAzB,EAAA,gBAAAA,EAAA,YAAwCE,OAAOwB,KAAA,OAAAX,YAAAlB,EAAAmB,UAAAhD,WAAA2D,gBAAA,MAAAV,SAAA,IAAyFI,OAAQhC,MAAAQ,EAAAhB,SAAA,KAAAyC,SAAA,SAAAC,GAAmD1B,EAAA2B,KAAA3B,EAAAhB,SAAA,OAAA0C,IAAoCE,WAAA,oBAA6B,GAAAzB,EAAA,gBAAAA,EAAA,eAA2CY,aAAaP,MAAA,QAAeH,OAAQb,MAAAQ,EAAAJ,WAAAmC,QAAA/B,EAAAgC,YAAAd,YAAAlB,EAAAmB,UAAA7C,iBAAA2D,UAAA,KAA8GtB,IAAKuB,OAAAlC,EAAAmC,qBAA+B,OAAAhC,EAAA,QAAqBE,OAAO+B,KAAA,UAAgBA,KAAA,WAAejC,EAAA,aAAkBE,OAAOwB,KAAA,UAAAQ,MAAA,IAA4B1B,IAAK2B,MAAAtC,EAAAuC,gBAA0BvC,EAAAwC,GAAAxC,EAAAyC,GAAAzC,EAAAmB,UAAA5C,kBAAA4B,EAAA,aAAgEE,OAAOgC,MAAA,IAAW1B,IAAK2B,MAAAtC,EAAAZ,eAAyBY,EAAAwC,GAAAxC,EAAAyC,GAAAzC,EAAAmB,UAAA3C,kBAAA,QAC34CkE,iBCDA,SAAAC,EAAAC,GACAC,EAAA,QAQA,IAAAC,GAAA,EAEAC,EAAAJ,EAEAK,EAAA,KAEAC,EAAA,KAEAC,EAAAvE,OAAAwE,EAAA,KAAAxE,CACAT,EACA6B,EACA2C,EACAI,EACAC,EACAC,EACAC,GAGAG,EAAA,WAAAF,EAAA","file":"js/20.91e4e2a6.js","sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"visible\" width=\"25%\" center :before-close=\"closeDialog\">\n    <el-form class=\"user-form\">\n      <el-form-item>\n        <el-autocomplete v-model=\"userForm.email\" :fetch-suggestions=\"querySearchAsync\" :placeholder=\"constants.LABEL_TAL_EMAIL\" @select=\"handleSelect\" style=\"width:100%\" :disabled=\"disabled\" :autofocus=\"true\"></el-autocomplete>\n      </el-form-item>\n\n      <el-form-item>\n        <el-input type=\"text\" v-model=\"userForm.name\" :placeholder=\"constants.LABEL_NAME\" auto-complete=\"off\" disabled></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-cascader :value=\"department\" @change=\"changeDepartment\" :options=\"departments\" :placeholder=\"constants.LABEL_DEPARTMENT\" separator=\"-\" style=\"width:100%\"></el-cascader>\n      </el-form-item>\n    </el-form>\n    <span slot=\"footer\">\n      <el-button type=\"primary\" round @click=\"handelSubmit\">{{constants.LABEL_CONFIRM}}</el-button>\n      <el-button round @click=\"closeDialog\">{{constants.LABEL_CANCEL}}</el-button>\n    </span>\n  </el-dialog>\n</template>\n<script>\nimport {\n  LABEL_NAME,\n  LABEL_TAL_EMAIL,\n  LABEL_DEPARTMENT,\n  LABEL_CONFIRM,\n  LABEL_CANCEL\n} from \"@/constants/TEXT\";\nimport { searchManager } from \"@/constants/API\";\nexport default {\n  data() {\n    return {\n      constants: {\n        LABEL_NAME,\n        LABEL_TAL_EMAIL,\n        LABEL_DEPARTMENT,\n        LABEL_CONFIRM,\n        LABEL_CANCEL\n      }\n    };\n  },\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: \"用户信息\"\n    },\n    userForm: {\n      type: Object,\n      default: () => ({ email: \"\", name: \"\", department_id: \"\", empID: \"\" })\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    submit: {\n      type: Function,\n      default: () => function() {}\n    },\n    departments: {\n      type: Array,\n      default: () => []\n    },\n    department: {\n      type: Array,\n      default: () => []\n    }\n  },\n  methods: {\n    closeDialog() {\n      this.$emit(\"update:visible\", false);\n    },\n    handelSubmit() {\n      if (\n        !this.userForm.email ||\n        !this.userForm.name ||\n        !this.userForm.department_id\n      ) {\n        this.$message({\n          message: \"企业邮箱、姓名、部门都是必填项哦！\",\n          type: \"warning\"\n        });\n        return;\n      }\n      this.submit().then(res => {\n        this.closeDialog();\n      });\n    },\n    querySearchAsync(queryString, cb) {\n      // 内容输入变更就清楚name\n      this.$emit(\n        \"update:userForm\",\n        Object.assign({}, this.userForm, { name: \"\" })\n      );\n      if (queryString) {\n        searchManager({ email: queryString })\n          .then(res => {\n            if (res) {\n              for (var i = res.length - 1; i >= 0; i--) {\n                res[i].value =\n                  res[i].name +\n                  \" - \" +\n                  res[i].workcode +\n                  \" - \" +\n                  res[i].department;\n              }\n              cb(res);\n            }\n          })\n          .catch(err => {\n            cb([]);\n          });\n      } else {\n        // 从有内容删减到无内容时不要搜索\n        cb([]);\n      }\n    },\n    handleSelect(item) {\n      // console.log(item);\n      this.$emit(\n        \"update:userForm\",\n        Object.assign({}, this.userForm, {\n          email: item.email,\n          name: item.name,\n          empID: item.workcode\n        })\n      );\n    },\n    changeDepartment(departmentArr) {\n      // console.log(departmentArr);\n      this.$emit(\n        \"update:userForm\",\n        Object.assign({}, this.userForm, {\n          department_id: departmentArr[departmentArr.length - 1]\n        })\n      );\n    }\n  }\n};\n</script>\n\n<style>\n.user-form {\n  padding: 0 20px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/usermanage/UserDialog.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":_vm.title,\"visible\":_vm.visible,\"width\":\"25%\",\"center\":\"\",\"before-close\":_vm.closeDialog},on:{\"update:visible\":function($event){_vm.visible=$event}}},[_c('el-form',{staticClass:\"user-form\"},[_c('el-form-item',[_c('el-autocomplete',{staticStyle:{\"width\":\"100%\"},attrs:{\"fetch-suggestions\":_vm.querySearchAsync,\"placeholder\":_vm.constants.LABEL_TAL_EMAIL,\"disabled\":_vm.disabled,\"autofocus\":true},on:{\"select\":_vm.handleSelect},model:{value:(_vm.userForm.email),callback:function ($$v) {_vm.$set(_vm.userForm, \"email\", $$v)},expression:\"userForm.email\"}})],1),_c('el-form-item',[_c('el-input',{attrs:{\"type\":\"text\",\"placeholder\":_vm.constants.LABEL_NAME,\"auto-complete\":\"off\",\"disabled\":\"\"},model:{value:(_vm.userForm.name),callback:function ($$v) {_vm.$set(_vm.userForm, \"name\", $$v)},expression:\"userForm.name\"}})],1),_c('el-form-item',[_c('el-cascader',{staticStyle:{\"width\":\"100%\"},attrs:{\"value\":_vm.department,\"options\":_vm.departments,\"placeholder\":_vm.constants.LABEL_DEPARTMENT,\"separator\":\"-\"},on:{\"change\":_vm.changeDepartment}})],1)],1),_c('span',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\"},on:{\"click\":_vm.handelSubmit}},[_vm._v(_vm._s(_vm.constants.LABEL_CONFIRM))]),_c('el-button',{attrs:{\"round\":\"\"},on:{\"click\":_vm.closeDialog}},[_vm._v(_vm._s(_vm.constants.LABEL_CANCEL))])],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7666db63\",\"hasScoped\":false,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/usermanage/UserDialog.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserDialog.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/WorkDirectory/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserDialog.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/WorkDirectory/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserDialog.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7666db63\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserDialog.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/usermanage/UserDialog.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}