webpackJsonp([40],{BfW8:function(e,o,t){"use strict";var r=t("OE2U"),n=t("BHhq"),i={props:{infoForm:{type:Object,default:function(){return{}}},infoType:{type:String,default:"add"}},data:function(){return{constants:{LEADER_NUMBER:r["_66"],LEADER_NAME:r["_65"],BASE_OR_BU:r["h"],UP_LEVEL:r["_128"],EMAIL:r["L"]}}},methods:{searchLeader:function(e){var o=this;""!=e?Object(n["G"])({empID:e}).then(function(e){e?(o.infoForm.leaderName=e.name,o.infoForm.leaderBU=e.department,o.infoForm.leaderEmail=e.email):(o.infoForm.leaderName="",o.infoForm.leaderBU="",o.infoForm.leaderEmail="")}).catch(function(e){}):(this.infoForm.leaderName="",this.infoForm.leaderBU="",this.infoForm.leaderEmail="")}}},a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"section-title"},[e._v("上级信息:")]),t("el-form-item",{attrs:{prop:"leaderNum"}},[t("el-input",{attrs:{size:"small",placeholder:e.constants.LEADER_NUMBER},on:{input:e.searchLeader},model:{value:e.infoForm.leaderNum,callback:function(o){e.$set(e.infoForm,"leaderNum",o)},expression:"infoForm.leaderNum"}})],1),t("el-form-item",{attrs:{prop:"leaderName"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.LEADER_NAME},model:{value:e.infoForm.leaderName,callback:function(o){e.$set(e.infoForm,"leaderName",o)},expression:"infoForm.leaderName"}})],1),t("el-form-item",{attrs:{prop:"leaderBU"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.UP_LEVEL+e.constants.BASE_OR_BU},model:{value:e.infoForm.leaderBU,callback:function(o){e.$set(e.infoForm,"leaderBU",o)},expression:"infoForm.leaderBU"}})],1),t("el-form-item",{attrs:{prop:"leaderEmail"}},[t("el-input",{attrs:{size:"small",placeholder:e.constants.UP_LEVEL+e.constants.EMAIL},model:{value:e.infoForm.leaderEmail,callback:function(o){e.$set(e.infoForm,"leaderEmail",o)},expression:"infoForm.leaderEmail"}})],1)],1)},l=[],s=t("XyMi");function m(e){t("KWwz")}var f=!1,u=m,c="data-v-68399ca4",d=null,p=Object(s["a"])(i,a,l,f,u,c,d);o["a"]=p.exports},C6Ov:function(e,o){},KWwz:function(e,o){},SXE8:function(e,o){},VvXM:function(e,o){},clKB:function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});var r=t("OE2U"),n=t("BHhq"),i=t("hYY4"),a=t("BfW8"),l={props:{infoForm:{type:Object,default:function(){return{}}},infoType:{type:String,default:"add"}},data:function(){return{constants:{PLUS_UP_LEVEL:r["_98"],NUMBER:r["_83"],NAME:r["_78"],BASE_OR_BU:r["h"],EMAIL:r["L"]}}},methods:{searchUpLeader:function(e){var o=this;""!=e?Object(n["G"])({empID:e}).then(function(e){e?(o.infoForm.upLeaderName=e.name,o.infoForm.upLeaderBU=e.department,o.infoForm.upLeaderEmail=e.email):(o.infoForm.upLeaderName="",o.infoForm.upLeaderBU="",o.infoForm.upLeaderEmail="")}).catch(function(e){}):(this.infoForm.upLeaderName="",this.infoForm.upLeaderBU="",this.infoForm.upLeaderEmail="")}}},s=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"section-title"},[e._v("隔级信息:")]),t("el-form-item",{attrs:{prop:"upLeaderNum"}},[t("el-input",{attrs:{size:"small",placeholder:e.constants.PLUS_UP_LEVEL+e.constants.NUMBER},on:{input:e.searchUpLeader},model:{value:e.infoForm.upLeaderNum,callback:function(o){e.$set(e.infoForm,"upLeaderNum",o)},expression:"infoForm.upLeaderNum"}})],1),t("el-form-item",{attrs:{prop:"upLeaderName"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.PLUS_UP_LEVEL+e.constants.NAME},model:{value:e.infoForm.upLeaderName,callback:function(o){e.$set(e.infoForm,"upLeaderName",o)},expression:"infoForm.upLeaderName"}})],1),t("el-form-item",{attrs:{prop:"upLeaderBU"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.PLUS_UP_LEVEL+e.constants.BASE_OR_BU},model:{value:e.infoForm.upLeaderBU,callback:function(o){e.$set(e.infoForm,"upLeaderBU",o)},expression:"infoForm.upLeaderBU"}})],1),t("el-form-item",{attrs:{prop:"upLeaderEmail"}},[t("el-input",{attrs:{size:"small",placeholder:e.constants.PLUS_UP_LEVEL+e.constants.EMAIL},model:{value:e.infoForm.upLeaderEmail,callback:function(o){e.$set(e.infoForm,"upLeaderEmail",o)},expression:"infoForm.upLeaderEmail"}})],1)],1)},m=[],f=t("XyMi");function u(e){t("VvXM")}var c=!1,d=u,p="data-v-60f2dc6f",F=null,h=Object(f["a"])(l,s,m,c,d,p,F),E=h.exports,_={props:{dialogInfo:{type:Boolean,default:!1},infoType:{type:String,default:"add"},currentInfo:{type:Object,default:function(){return{}}}},data:function(){var e=this,o=function(o,t,n){e.infoForm.upLeaderNum&&!t?n(r["N"]):n()};return{constants:{ADD:r["c"],MODIFY:r["_72"],CONFIRM:r["p"],CANCEL:r["m"]},infoRules:{num:{type:"string",required:!0,message:r["_84"],trigger:"change"},email:[{required:!0,message:r["N"],trigger:"blur"},{type:"email",message:r["M"],trigger:["blur","change"]}],leaderNum:[{type:"string",required:!0,message:r["_67"],trigger:"change"}],leaderEmail:[{required:!0,message:r["N"],trigger:"blur"},{type:"email",message:r["M"],trigger:["blur","change"]}],upLeaderEmail:[{type:"email",message:r["M"],trigger:["blur","change"]},{validator:o,trigger:"change"}]},infoForm:{num:"",name:"",BU:"",dep:"",level:"",email:"",leaderNum:"",leaderName:"",leaderBU:"",leaderEmail:"",upLeaderNum:"",upLeaderName:"",upLeaderBU:"",upLeaderEmail:""}}},created:function(){this.infoForm.num=this.currentInfo.workcode,this.infoForm.name=this.currentInfo.name,this.infoForm.BU=this.currentInfo.department,this.infoForm.dep=this.currentInfo.first_department,this.infoForm.level=this.currentInfo.level,this.infoForm.email=this.currentInfo.email,this.infoForm.leaderNum=this.currentInfo.superior_workcode,this.infoForm.leaderName=this.currentInfo.superior_name,this.infoForm.leaderBU=this.currentInfo.superior_department,this.infoForm.leaderEmail=this.currentInfo.superior_email,this.infoForm.upLeaderNum=this.currentInfo.highlevel_workcode,this.infoForm.upLeaderName=this.currentInfo.highlevel_name,this.infoForm.upLeaderBU=this.currentInfo.highlevel_department,this.infoForm.upLeaderEmail=this.currentInfo.highlevel_email},methods:{resetFilter:function(e){this.$refs[e].resetFields()},close:function(){this.$emit("close")},infoSubmit:function(e){var o=this;this.$refs[e].validate(function(e){if(!e)return!1;if("add"===o.infoType){var t={ev_user_workcode:o.infoForm.num,ev_user_email:o.infoForm.email,evaluator_workcode:o.infoForm.leaderNum,evaluator_email:o.infoForm.leaderEmail,highlevel_workcode:o.infoForm.upLeaderNum,highlevel_email:o.infoForm.upLeaderEmail};Object(n["R"])(o.$route.params.orgID,t).then(function(e){o.$message({message:"添加成功",type:"success"}),o.close()}).catch(function(e){})}else Object(n["_0"])(o.$route.params.orgID,o.currentInfo.id,{ev_user_email:o.infoForm.email,evaluator_workcode:o.infoForm.leaderNum,evaluator_email:o.infoForm.leaderEmail,highlevel_workcode:o.infoForm.upLeaderNum,highlevel_email:o.infoForm.upLeaderEmail}).then(function(e){o.$message({message:"修改成功",type:"success"}),o.close()}).catch(function(e){})})}},beforeDestroy:function(){this.resetFilter("infoForm")},components:{"emp-info":i["a"],"leader-info":a["a"],"up-leader-info":E}},v=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("el-dialog",{staticClass:"dialogInfo",attrs:{width:"650px",visible:e.dialogInfo},on:{close:e.close}},[t("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s("add"===e.infoType?e.constants.ADD:e.constants.MODIFY)+"\n  ")]),t("el-form",{ref:"infoForm",staticClass:"infoForm",attrs:{inline:!0,rules:e.infoRules,model:e.infoForm}},[t("emp-info",{attrs:{infoForm:e.infoForm,infoType:e.infoType}}),t("leader-info",{attrs:{infoForm:e.infoForm,infoType:e.infoType}}),t("up-leader-info",{attrs:{infoForm:e.infoForm,infoType:e.infoType}})],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:function(o){e.infoSubmit("infoForm")}}},[e._v(e._s(e.constants.CONFIRM))]),t("el-button",{staticClass:"btn-reset",attrs:{round:"",size:"medium"},on:{click:e.close}},[e._v(e._s(e.constants.CANCEL))])],1)],1)],1)},L=[];function U(e){t("C6Ov")}var N=!1,B=U,g="data-v-199b30ab",b=null,y=Object(f["a"])(_,v,L,N,B,g,b);o["default"]=y.exports},hYY4:function(e,o,t){"use strict";var r=t("OE2U"),n=t("BHhq"),i={props:{infoForm:{type:Object,default:function(){return{}}},infoType:{type:String,default:"add"}},data:function(){return{constants:{NUMBER:r["_83"],NAME:r["_78"],BASE_OR_BU:r["h"],DEP_OR_SUB:r["E"],WORK_LEVEL:r["_130"],EMAIL:r["L"]}}},methods:{searchME:function(e){var o=this;""!=e?Object(n["G"])({empID:e}).then(function(e){e?(o.infoForm.name=e.name,o.infoForm.BU=e.department,o.infoForm.dep=e.first_department,o.infoForm.level=e.level,o.infoForm.email=e.email):(o.infoForm.name="",o.infoForm.BU="",o.infoForm.dep="",o.infoForm.level="",o.infoForm.email="")}).catch(function(e){}):(this.infoForm.name="",this.infoForm.BU="",this.infoForm.dep="",this.infoForm.level="",this.infoForm.email="")}}},a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{staticClass:"section-title"},[e._v("员工信息:")]),t("el-form-item",{attrs:{prop:"num"}},[t("el-input",{attrs:{disabled:"add"!==e.infoType,size:"small",placeholder:e.constants.NUMBER},on:{input:e.searchME},model:{value:e.infoForm.num,callback:function(o){e.$set(e.infoForm,"num",o)},expression:"infoForm.num"}})],1),t("el-form-item",{attrs:{prop:"name"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.NAME},model:{value:e.infoForm.name,callback:function(o){e.$set(e.infoForm,"name",o)},expression:"infoForm.name"}})],1),t("el-form-item",{attrs:{prop:"BU"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.BASE_OR_BU},model:{value:e.infoForm.BU,callback:function(o){e.$set(e.infoForm,"BU",o)},expression:"infoForm.BU"}})],1),t("el-form-item",{attrs:{prop:"dep"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.DEP_OR_SUB},model:{value:e.infoForm.dep,callback:function(o){e.$set(e.infoForm,"dep",o)},expression:"infoForm.dep"}})],1),t("el-form-item",{attrs:{prop:"level"}},[t("el-input",{attrs:{size:"small",disabled:!0,placeholder:e.constants.WORK_LEVEL},model:{value:e.infoForm.level,callback:function(o){e.$set(e.infoForm,"level",o)},expression:"infoForm.level"}})],1),t("el-form-item",{attrs:{prop:"email"}},[t("el-input",{attrs:{size:"small",placeholder:e.constants.EMAIL},model:{value:e.infoForm.email,callback:function(o){e.$set(e.infoForm,"email",o)},expression:"infoForm.email"}})],1)],1)},l=[],s=t("XyMi");function m(e){t("SXE8")}var f=!1,u=m,c="data-v-336dd654",d=null,p=Object(s["a"])(i,a,l,f,u,c,d);o["a"]=p.exports}});
//# sourceMappingURL=40.206487cf.js.map