(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f584c98"],{"045a":function(t,e,i){},"28a5":function(t,e,i){"use strict";var s=i("aae3"),a=i("cb7c"),n=i("ebd6"),l=i("0390"),c=i("9def"),r=i("5f1b"),o=i("520a"),d=i("79e5"),m=Math.min,u=[].push,v="split",f="length",p="lastIndex",g=4294967295,h=!d(function(){RegExp(g,"y")});i("214f")("split",2,function(t,e,i,d){var _;return _="c"=="abbc"[v](/(b)*/)[1]||4!="test"[v](/(?:)/,-1)[f]||2!="ab"[v](/(?:ab)*/)[f]||4!="."[v](/(.?)(.?)/)[f]||"."[v](/()()/)[f]>1||""[v](/.?/)[f]?function(t,e){var a=String(this);if(void 0===t&&0===e)return[];if(!s(t))return i.call(a,t,e);var n,l,c,r=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,v=void 0===e?g:e>>>0,h=new RegExp(t.source,d+"g");while(n=o.call(h,a)){if(l=h[p],l>m&&(r.push(a.slice(m,n.index)),n[f]>1&&n.index<a[f]&&u.apply(r,n.slice(1)),c=n[0][f],m=l,r[f]>=v))break;h[p]===n.index&&h[p]++}return m===a[f]?!c&&h.test("")||r.push(""):r.push(a.slice(m)),r[f]>v?r.slice(0,v):r}:"0"[v](void 0,0)[f]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,s){var a=t(this),n=void 0==i?void 0:i[e];return void 0!==n?n.call(i,a,s):_.call(String(a),i,s)},function(t,e){var s=d(_,t,this,e,_!==i);if(s.done)return s.value;var o=a(t),u=String(this),v=n(o,RegExp),f=o.unicode,p=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(h?"y":"g"),C=new v(h?o:"^(?:"+o.source+")",p),b=void 0===e?g:e>>>0;if(0===b)return[];if(0===u.length)return null===r(C,u)?[u]:[];var w=0,x=0,T=[];while(x<u.length){C.lastIndex=h?x:0;var y,D=r(C,h?u:u.slice(x));if(null===D||(y=m(c(C.lastIndex+(h?0:x)),u.length))===w)x=l(u,x,f);else{if(T.push(u.slice(w,x)),T.length===b)return T;for(var E=1;E<=D.length-1;E++)if(T.push(D[E]),T.length===b)return T;x=w=y}}return T.push(u.slice(w)),T}]})},"2fdb":function(t,e,i){"use strict";var s=i("5ca1"),a=i("d2c8"),n="includes";s(s.P+s.F*i("5147")(n),"String",{includes:function(t){return!!~a(this,t,n).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"362b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"grade-management"},[i("nav-bar",{attrs:{list:t.nav}}),i("section",{staticClass:"content-container"},[i("el-row",{attrs:{align:"middle",type:"flex",justify:"space-between"}},[i("div",[i("span",[t._v("组织部绩效考核列表：")]),i("el-cascader",{attrs:{placeholder:t.constants.LABEL_SELECT_DIVISION,props:t.filterProps,options:t.orgTree,"show-all-levels":!1},on:{change:t.handleChange},model:{value:t.filterForm.dp,callback:function(e){t.$set(t.filterForm,"dp",e)},expression:"filterForm.dp"}}),i("el-button",{staticStyle:{"margin-left":"30px"},attrs:{round:""},on:{click:t.resetFilter}},[t._v("\n          "+t._s(t.constants.LABEL_EMPTY)+"\n        ")])],1),i("div",[i("el-radio-group",{attrs:{size:"medium"},on:{change:t.changeStatuses},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}},[t.showExecutiveScoreManagement?i("el-radio-button",{attrs:{label:""}},[t._v("全部")]):t._e(),t.showExecutiveScoreManagement?i("el-radio-button",{attrs:{label:"1"}},[t._v("草稿")]):t._e(),t.showExecutiveScoreManagement||t.showExecutiveScoreUserManagement?i("el-radio-button",{attrs:{label:"2"}},[t._v("进行中")]):t._e(),t.showExecutiveScoreManagement||t.showExecutiveScoreUserManagement?i("el-radio-button",{attrs:{label:"3"}},[t._v("已结束")]):t._e()],1),t.showExecutiveScoreManagement?i("el-button",{staticClass:"create-btn",attrs:{type:"primary"},on:{click:t.createTpl}},[t._v("创建组织部绩效考核")]):t._e()],1)]),t._l(t.performancesList,function(e){return i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],key:e.id,staticClass:"grade-management-list"},[i("div",{staticClass:"list-top"},[0===e.stage?i("span",{staticClass:"state draft"},[t._v("草稿")]):600===e.stage?i("span",{staticClass:"state ending"},[t._v("已结束")]):i("span",{staticClass:"state doing"},[t._v("进行中")]),i("div",{staticClass:"bread-crumb"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.name,placement:"top"}},[i("div",{staticClass:"bread-crumb-name"},[t._v(t._s(e.name))])]),i("div",{staticClass:"bread-crumb-separator"},[t._v("|")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.departments_text,placement:"top"}},[i("div",{staticClass:"bread-crumb-name"},[t._v(t._s(e.departments_text))])]),i("div",{staticClass:"bread-crumb-separator"},[t._v("|")]),i("div",{staticClass:"bread-crumb-name"},[t._v("\n            "+t._s(t._f("filterType")(e.performance_type))+"\n          ")])],1),i("div",{staticClass:"operate-btns"},[i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"考核详情",placement:"top"}},[i("i",{staticClass:"view-details",on:{click:function(i){return t.linkToDetail(e.id)}}})]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"删除",placement:"top"}},[0===e.stage&&t.showExecutiveScoreManagement?i("i",{staticClass:"delete",on:{click:function(i){return t.deleteAssessment(e.id)}}}):t._e()]),0===e.stage&&t.showExecutiveScoreManagement?i("el-button",{attrs:{disabled:!e.can_start,type:"primary"},on:{click:function(i){return t.openAssessment(e.id)}}},[t._v("开启考核")]):t._e()],1)]),i("div",{staticClass:"list-middle"},[i("div",{staticClass:"list-middle-left"},[i("div",{staticClass:"list-middle-items"},[i("div",[t._v("考核周期")]),i("div",{staticClass:"list-middle-item"},[t._v("\n              "+t._s(e.year)+"\n            ")])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("起止时间")]),i("div",{staticClass:"list-middle-item"},[t._v("\n              "+t._s(t._f("filterDate")(e.start_time))+"至"+t._s(t._f("filterDate")(e.end_time))+"\n            ")])])]),i("div",{staticClass:"list-middle-right"},[i("div",{staticClass:"list-middle-items"},[i("div",[t._v("考核人数")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.users_count))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("指标填写中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.indicator_fill_in))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("指标确认中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.indicator_confirm))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("自评中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.self_evaluation))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("复评中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.re_evaluation))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("隔级审核中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.isolation_adult))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("总裁审核中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.president_audit))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("确认中")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.confirm))])]),i("div",{staticClass:"list-middle-items"},[i("div",[t._v("已确认")]),i("div",{staticClass:"list-middle-item"},[t._v(t._s(e.confirmed))])])])]),i("div",{staticClass:"list-timeline"},[i("div",{staticClass:"time-line",class:0===e.stage?"":"active"},[t._v("\n          指标设定\n        ")]),i("div",{staticClass:"time-line-sign",class:0===e.stage?"":"active",attrs:{data:t._f("filterDate")(e.indicator_setting_end_time)}}),i("div",{staticClass:"time-line-circle",class:e.self_evaluation_begin_time>t.nowTime?"active":""},[i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"})]),i("div",{staticClass:"time-line-sign",class:e.self_evaluation_begin_time>t.nowTime?"active":"",attrs:{data:t._f("filterDate")(e.self_evaluation_begin_time)}}),i("div",{staticClass:"time-line",class:e.self_evaluation_begin_time>t.nowTime?"active":""},[t._v("\n          自评\n        ")]),i("div",{staticClass:"time-line-sign",class:e.superior_begin_time>t.nowTime?"active":"",attrs:{data:t._f("filterDate")(e.superior_begin_time)}}),i("div",{staticClass:"time-line",class:e.superior_begin_time>t.nowTime?"active":""},[t._v("\n          上级评分\n        ")]),i("div",{staticClass:"time-line-sign",class:e.isolation_begin_time>t.nowTime?"active":"",attrs:{data:t._f("filterDate")(e.isolation_begin_time)}}),i("div",{staticClass:"time-line",class:e.isolation_begin_time>t.nowTime?"active":""},[t._v("\n          隔级审核\n        ")]),i("div",{staticClass:"time-line-sign",class:e.president_audit_begin_time>t.nowTime?"active":""}),i("div",{staticClass:"time-line",class:e.president_audit_begin_time>t.nowTime?"active":""},[t._v("\n          总裁审核\n        ")]),i("div",{staticClass:"time-line-sign",class:600===e.stage?"active":"",attrs:{data:t._f("filterDate")(e.result_confirm_end_time)}}),i("div",{staticClass:"time-line",class:600===e.stage?"active":""},[t._v("\n          结果确认\n        ")]),i("div",{staticClass:"time-line-sign",class:600===e.stage?"active":"",attrs:{data:t._f("filterDate")(e.president_audit_begin_time)}})])])}),i("br"),i("el-row",{attrs:{type:"flex",justify:"end"}},[t.total?i("el-pagination",{attrs:{background:"","current-page":t.page,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],2),t.showDialog?i("assessment-dialog",{attrs:{visible:t.showDialog,infoType:t.infoType,performanceTypes:t.performanceTypes,orgTree:t.orgTree},on:{close:t.tplDialogClose,update:t.tplDefine}}):t._e(),t.showConfirmDialog?i("confirm-dialog",{attrs:{visible:t.showConfirmDialog,tipsText:t.tipsText,confirmType:t.confirmType},on:{update:t.confirmDialog,close:t.closeDialog}}):t._e()],1)},a=[],n=(i("a481"),i("28a5"),i("6762"),i("2fdb"),i("372d")),l=i("c9f1"),c=i("fea5"),r=i("38fb"),o={components:{"nav-bar":function(){return i.e("chunk-d5094d72").then(i.bind(null,"3208"))},"assessment-dialog":Object(n["a"])(i.e("chunk-d35c5bb8").then(i.bind(null,"4abf"))),"confirm-dialog":Object(n["a"])(i.e("chunk-7ee9162a").then(i.bind(null,"1f04")))},data:function(){return{filterProps:{value:"id",label:"name",children:"children"},page:1,perPage:10,total:0,department_ids:"",showDialog:!1,infoType:"add",showConfirmDialog:!1,tipsText:"",confirmType:"open",id:0,performancesList:[],isLoading:!0,orgTree:[],nav:[{label:"组织部绩效考核列表",active:!0}],filterForm:{dp:[]},options:[],constants:{LABEL_EMPTY:r["Bc"],LABEL_SELECT_DIVISION:r["Rc"]},status:"",nowTime:"",permissions:[]}},computed:{showExecutiveScoreManagement:function(){return this.permissions.includes(400)},showExecutiveScoreUserManagement:function(){return this.permissions.includes(410)}},filters:{filterDate:function(t){var e="";return t&&(e=/\d{4}-\d{1,2}-\d{1,2}/g.exec(t),e=e[0]),e},filterType:function(t){var e="";return"annual"===t?e="年度":"semi-annual"===t?e="半年度":"quarter"===t?e="季度":"monthly"===t&&(e="月度"),e}},methods:{tplDefine:function(t){this.showDialog=!1,this.$router.push(Object(l["q"])(t))},handleChange:function(t){this.department_ids=t.length>0?t[t.length-1]:"",this.page=1,this.getPerformanceList()},handleSizeChange:function(t){this.perPage=t,this.getPerformanceList()},handleCurrentChange:function(t){this.page=t,this.getPerformanceList()},changeStatuses:function(){this.getPerformanceList()},getPerformanceList:function(){var t=this,e={status:this.status,page:this.page,perPage:this.perPage,department_ids:this.department_ids.split(",")};Object(c["v"])(e).then(function(e){var i=e.total,s=e.data;t.performancesList=s,t.isLoading=!1,t.total=i}).catch(function(t){})},createTpl:function(){this.infoType="add",this.showDialog=!0},tplDialogClose:function(){this.showDialog=!1},updateTpl:function(t){this.infoType="modify",this.showDialog=!0},resetFilter:function(){this.filterForm={dp:[]},this.page=1,this.department_ids="",this.getPerformanceList()},linkToDetail:function(t){this.$router.replace("/performance/assessment/details/".concat(t))},deleteAssessment:function(t){this.performanceId=t,this.showConfirmDialog=!0,this.tipsText="是否确认删除考核？",this.confirmType="delete"},closeDialog:function(){this.showConfirmDialog=!1},confirmDialog:function(t){var e=this;"open"===t?Object(c["Kc"])(this.performanceId).then(function(t){e.showConfirmDialog=!1,e.getPerformanceList()}).catch(function(t){}):"delete"===t?Object(c["h"])(this.performanceId).then(function(t){e.showConfirmDialog=!1,e.getPerformanceList()}).catch(function(t){}):this.showConfirmDialog=!1},openAssessment:function(t){this.performanceId=t,this.showConfirmDialog=!0,this.tipsText="是否确认启动考核？",this.confirmType="open"}},created:function(){var t=this;this.permissions=JSON.parse(localStorage.getItem("permissions")||"[]"),this.showExecutiveScoreUserManagement&&(this.status="2"),this.showExecutiveScoreManagement&&(this.status=""),this.nowTime=new Date,this.getPerformanceList(),Object(c["F"])().then(function(e){t.orgTree=e}).catch(function(t){}),Object(c["L"])().then(function(e){t.performanceTypes=e}).catch(function(t){})}},d=o,m=(i("e051"),i("2877")),u=Object(m["a"])(d,s,a,!1,null,"0fd3ce56",null);e["default"]=u.exports},"372d":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:!0,expression:"true",modifiers:{lock:!0}}],staticClass:"my-loading",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}})},a=[],n={},l=n,c=(i("ee47"),i("2877")),r=Object(c["a"])(l,s,a,!1,null,"6c517b7e",null),o=r.exports;i.d(e,"a",function(){return d});var d=function(t){return function(){return{component:t,loading:o,delay:0}}}},5147:function(t,e,i){var s=i("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[s]=!1,!"/./"[t](e)}catch(a){}}return!0}},6762:function(t,e,i){"use strict";var s=i("5ca1"),a=i("c366")(!0);s(s.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),i("9c6c")("includes")},"9f9e":function(t,e,i){},aae3:function(t,e,i){var s=i("d3f4"),a=i("2d95"),n=i("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==a(t))}},d2c8:function(t,e,i){var s=i("aae3"),a=i("be13");t.exports=function(t,e,i){if(s(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(a(t))}},e051:function(t,e,i){"use strict";var s=i("045a"),a=i.n(s);a.a},ee47:function(t,e,i){"use strict";var s=i("9f9e"),a=i.n(s);a.a}}]);