(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36474e2f"],{"2f21":function(e,t,n){"use strict";var a=n("79e5");e.exports=function(e,t){return!!e&&a(function(){t?e.call(null,function(){},1):e.call(null)})}},"372d":function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:!0,expression:"true",modifiers:{lock:!0}}],staticClass:"my-loading",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}})},r=[],i={},o=i,c=(n("ee47"),n("2877")),s=Object(c["a"])(o,a,r,!1,null,"6c517b7e",null),u=s.exports;n.d(t,"a",function(){return l});var l=function(e){return function(){return{component:e,loading:u,delay:0}}}},"55dd":function(e,t,n){"use strict";var a=n("5ca1"),r=n("d8e8"),i=n("4bf8"),o=n("79e5"),c=[].sort,s=[1,2,3];a(a.P+a.F*(o(function(){s.sort(void 0)})||!o(function(){s.sort(null)})||!n("2f21")(c)),"Array",{sort:function(e){return void 0===e?c.call(i(this)):c.call(i(this),r(e))}})},7642:function(e,t,n){},"9f9e":function(e,t,n){},a975:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"employee-target-detail"},[n("nav-bar",{attrs:{list:e.nav}}),n("index-header",{attrs:{"user-info":e.userInfo,self:!0}}),n("target-content",{attrs:{"all-target":e.allTarget}}),n("el-row",{staticClass:"footer-button"},[n("el-button",{on:{click:e.checkExamine}},[e._v("\n      "+e._s(e.constants.CHECK_EXAMINE_LOG)+"\n    ")]),n("el-button",{on:{click:e.returnList}},[e._v(e._s(e.constants.TARGET_RETURN))])],1),n("examine-detail",{attrs:{"is-examine-dialog":e.isExamineDialog,perforamnce_user_id:e.userInfo.perforamnce_user_id},on:{close:e.closeExamine}})],1)},r=[],i=(n("ac6a"),n("55dd"),n("7f7f"),n("38fb")),o=n("c9f1"),c=n("fea5"),s=n("372d"),u={data:function(){return{constants:{CHECK_EXAMINE_LOG:i["E"],TARGET_RETURN:i["Ue"]},nav:[{label:i["yd"],href:o["j"]},{label:i["Se"],active:!0}],userInfo:{performance_name:"",stage:0,current_user_identity:"",opinion:"",avatar:"",name:"",workcode:"",superior_name:"",superior_workcode:"",executive_type:"",department_name:"",cycle:"",indicator_setting_end_time:"",perforamnce_user_id:this.$route.params.uid},allTarget:[],isExamineDialog:!1}},components:{"nav-bar":Object(s["a"])(n.e("chunk-d5094d72").then(n.bind(null,"3208"))),"index-header":Object(s["a"])(n.e("chunk-3df373b5").then(n.bind(null,"e48a"))),"target-content":Object(s["a"])(n.e("chunk-59877df9").then(n.bind(null,"bfd8"))),"examine-detail":Object(s["a"])(n.e("chunk-6b2f4dcc").then(n.bind(null,"1622")))},methods:{getUserInfo:function(){var e=this,t={performance_user_id:this.$route.params.uid};Object(c["X"])(t).then(function(t){var n=t.performance_name,a=t.stage,r=t.opinion,i=t.avatar,o=t.name,c=t.workcode,s=t.superior_name,u=t.superior_workcode,l=t.executive_type,m=t.department_name,d=t.cycle,f=t.indicator_setting_end_time;e.userInfo={performance_name:n,stage:a,opinion:r,avatar:i,name:o,workcode:c,superior_name:s,superior_workcode:u,executive_type:l,department_name:m,cycle:d,indicator_setting_end_time:f,perforamnce_user_id:e.$route.params.uid}}).catch(function(){})},getWrokAndTeamTarget:function(){var e=this,t={performance_id:this.$route.params.id,performance_user_id:this.$route.params.uid};Object(c["W"])(t).then(function(t){var n=[{content:"",disqualification:"",excellence:"",good:"",id:"",outstanding:"",performance_id:"",performance_user_id:"",target:"",to_be_improved:"",type:"",weights:""}],a=void 0!==t.team,r=void 0!==t.work,i=void 0!==t.finance;if(e.allTarget=[],a){var o=t.team;void 0==o.targets[0]&&(o.targets=n),o.template_columns={content:o.targets[0].content,weights:o.targets[0].weights,metrics:o.template_columns.metrics,targets:o.targets};var c=[{basicType:"team",isMoney:0,sort:o.sort,type:o.name,weight:o.weight,table:[o.template_columns]}];e.changeData(c),e.$set(e.allTarget,o.sort-1,c[0])}if(r){var s=t.work;void 0==s.targets[0]&&(s.targets=n),s.template_columns={content:s.targets[0].content,weights:s.targets[0].weights,metrics:s.template_columns.metrics,targets:s.targets};var u=[{basicType:"work",isMoney:0,sort:s.sort,type:s.name,weight:s.weight,table:[s.template_columns]}];e.changeData(u),e.$set(e.allTarget,s.sort-1,u[0])}if(i){var l=t.finance;void 0==l.targets[0]&&(l.targets=n),l.template_columns={content:l.targets[0].content,weights:l.targets[0].weights,metrics:l.template_columns.metrics,targets:l.targets};var m=[{basicType:"finance",isMoney:1,sort:l.sort,type:l.name,weight:l.weight,table:[l.template_columns]}];e.changeData(m),e.$set(e.allTarget,l.sort-1,m[0])}}).catch(function(){})},changeData:function(e){return e.forEach(function(e){e.table.forEach(function(e){e.targets.forEach(function(t){e.target=t.target,e.metrics.forEach(function(e){e.content=t[e.key]})})})}),e},checkExamine:function(){this.isExamineDialog=!0},closeExamine:function(){this.isExamineDialog=!1},returnList:function(){this.$router.push("/employee/my")},ratingList:function(){}},created:function(){this.getUserInfo(),this.getWrokAndTeamTarget()}},l=u,m=(n("f17d"),n("2877")),d=Object(m["a"])(l,a,r,!1,null,"5ceaeb0c",null);t["default"]=d.exports},ee47:function(e,t,n){"use strict";var a=n("9f9e"),r=n.n(a);r.a},f17d:function(e,t,n){"use strict";var a=n("7642"),r=n.n(a);r.a}}]);