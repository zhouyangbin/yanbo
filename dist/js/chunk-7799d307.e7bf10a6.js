(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7799d307"],{"2fdb":function(t,e,n){"use strict";var i=n("5ca1"),a=n("d2c8"),s="includes";i(i.P+i.F*n("5147")(s),"String",{includes:function(t){return!!~a(this,t,s).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"372d":function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:!0,expression:"true",modifiers:{lock:!0}}],staticClass:"my-loading",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}})},a=[],s={},o=s,r=(n("ee47"),n("2877")),l=Object(r["a"])(o,i,a,!1,null,"6c517b7e",null),c=l.exports;n.d(e,"a",function(){return d});var d=function(t){return function(){return{component:t,loading:c,delay:0}}}},"3aec":function(t,e,n){},5147:function(t,e,n){var i=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(a){}}return!0}},6762:function(t,e,n){"use strict";var i=n("5ca1"),a=n("c366")(!0);i(i.P,"Array",{includes:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"9f9e":function(t,e,n){},aae3:function(t,e,n){var i=n("d3f4"),a=n("2d95"),s=n("2b4c")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==a(t))}},ac64:function(t,e,n){"use strict";var i=n("3aec"),a=n.n(i);a.a},c902:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"label-settings"},[n("nav-bar",{attrs:{list:t.nav}}),n("section",{staticClass:"content-container"},[n("section",[t.showExecutiveScoreManagement?n("el-form",{attrs:{inline:!0}},[n("el-form-item",[n("el-cascader",{attrs:{props:t.filterProps,placeholder:t.constants.LABEL_SELECT_DIVISION,options:t.orgTree,"show-all-levels":!1},on:{change:t.handleChange},model:{value:t.department_ids,callback:function(e){t.department_ids=e},expression:"department_ids"}})],1),n("el-form-item",[n("el-button",{attrs:{round:""},on:{click:t.resetForm}},[t._v(t._s(t.constants.RESET))])],1),n("el-form-item",[n("el-button",{attrs:{type:"primary",round:""},on:{click:t.createTpl}},[t._v(t._s(t.constants.ADD_NEW_LABEL))])],1)],1):t._e(),n("br"),n("el-table",{staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,stripe:""}},[n("el-table-column",{attrs:{type:"index",label:t.constants.SERIAL_NUMBER,width:"50"}}),n("el-table-column",{attrs:{prop:"tag_type",label:t.constants.TAG_NAME,width:"80"}}),n("el-table-column",{attrs:{prop:"departments_text",label:t.constants.BUSINESS_UNIT_AND_FUNCTIONAL_UNIT,width:"250","show-overflow-tooltip":!0}}),n("el-table-column",{attrs:{prop:"rule_text",label:t.constants.CORRESPONDING_GRADE_AND_PROPORTION,"min-width":"200","show-overflow-tooltip":!0}}),n("el-table-column",{attrs:{prop:"force_distribution",label:t.constants.FORCED_DISTRIBUTION_OR_NOT,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.force_distribution?"是":"否")+"\n          ")]}}])}),n("el-table-column",{attrs:{label:t.constants.LABEL_OPERATIONS,width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){return t.updateTpl(e.row)}}},[t._v(t._s(t.constants.LABEL_MODIFY))]),n("el-button",{attrs:{size:"small",type:"text"},on:{click:function(n){return t.handleDelete(e.row)}}},[t._v("删除")])]}}])})],1),n("br"),n("el-row",{attrs:{type:"flex",justify:"end"}},[t.total?n("el-pagination",{attrs:{background:"","current-page":t.page,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1)],1)]),t.showDialog?n("label-dialog",{attrs:{userId:t.userId,visible:t.showDialog,infoType:t.infoType,orgTree:t.orgTree},on:{close:t.tplDialogClose,getList:t.updateLabel}}):t._e(),n("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"400px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("span",[t._v("是否确认删除标签？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteMsg}},[t._v("确定")])],1)])],1)},a=[],s=(n("6762"),n("2fdb"),n("38fb")),o=n("fea5"),r=n("372d"),l={components:{"nav-bar":function(){return n.e("chunk-d5094d72").then(n.bind(null,"3208"))},"label-dialog":Object(r["a"])(n.e("chunk-4bce09d1").then(n.bind(null,"d6d9")))},data:function(){return{filterProps:{value:"id",label:"name",children:"children"},page:1,perPage:10,total:0,infoType:"add",showDialog:!1,tableData:[],userId:0,orgTree:[],constants:{LABEL_SELECT_DIVISION:s["Rc"],ADD_NEW_LABEL:s["d"],SERIAL_NUMBER:s["Ge"],BUSINESS_UNIT_AND_FUNCTIONAL_UNIT:s["z"],FORCED_DISTRIBUTION_OR_NOT:s["Zb"],TAG_NAME:s["Qe"],CORRESPONDING_GRADE_AND_PROPORTION:s["P"],LABEL_OPERATIONS:s["Ic"],LABEL_MODIFY:s["Gc"],RESET:s["se"],FORCED_DISTRIBUTION_VALUE:s["ac"]},nav:[{label:s["Vc"],active:!0}],department_ids:[],dialogVisible:!1,deleteId:0,permissions:[]}},computed:{showExecutiveScoreManagement:function(){return this.permissions.includes(400)}},methods:{handleChange:function(){this.page=1,this.getAdminTagsList()},resetForm:function(){this.page=1,this.department_ids=[],this.getAdminTagsList()},createTpl:function(){this.infoType="add",this.showDialog=!0},tplDialogClose:function(){this.showDialog=!1},updateLabel:function(){this.showDialog=!1,this.getAdminTagsList()},handleSizeChange:function(t){this.perPage=t,this.getAdminTagsList()},handleCurrentChange:function(t){this.page=t,this.getAdminTagsList()},updateTpl:function(t){this.infoType="modify",this.userId=t.id,this.showDialog=!0},getAdminTagsList:function(){var t=this,e={department_ids:this.department_ids,page:this.page,perPage:this.perPage};Object(o["y"])(e).then(function(e){var n=e.data,i=e.total;t.total=i,t.tableData=n}).catch(function(){})},handleDelete:function(t){this.dialogVisible=!0,this.deleteId=t.id},deleteMsg:function(){var t=this;this.dialogVisible=!1,Object(o["i"])(this.deleteId).then(function(e){t.getAdminTagsList()}).catch(function(t){})}},created:function(){var t=this;if(this.permissions=JSON.parse(localStorage.getItem("permissions")||"[]"),!this.showExecutiveScoreManagement)return this.$message({showClose:!0,message:"您没有没有权限查看此页面",type:"error"}),!1;this.getAdminTagsList(),Object(o["F"])().then(function(e){t.orgTree=e}).catch(function(t){})}},c=l,d=(n("ac64"),n("2877")),u=Object(d["a"])(c,i,a,!1,null,"2b5c2dc8",null);e["default"]=u.exports},d2c8:function(t,e,n){var i=n("aae3"),a=n("be13");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(t))}},ee47:function(t,e,n){"use strict";var i=n("9f9e"),a=n.n(i);a.a}}]);