(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-969b4746"],{"60b7":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{staticClass:"common-upload",attrs:{title:t.upload_title,visible:t.visible,"close-on-click-modal":!1,width:"650px"},on:{close:t.close}},[a("el-form",{attrs:{"label-width":"150px"}},[a("el-form-item",{attrs:{label:"模版下载"}},[a("el-button",{attrs:{type:"text"},on:{click:t.downloadTemplate}},[t._v("下载")])],1),a("el-form-item",{attrs:{label:"上传文件"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:t.upload_action_url,"on-success":t.uploadSuccess,"on-error":t.uploadError}},[a("el-button",{attrs:{type:"text"}},[t._v("选择文件")])],1)],1),a("el-form-item",{attrs:{label:"提示信息"}})],1),a("div",{staticClass:"notice"},[t._v("\n    请注意：如页面已有工作指标内容，上传将覆盖所有工作指标内容。\n  ")]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.close}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"}},[t._v("确定")])],1)],1)},l=[],r=(a("7f7f"),a("ac6a"),a("456d"),{props:{visible:{type:Boolean,default:!1},upload_title:{type:String,default:""},upload_action_url:{type:String,default:""},download_url:{type:String,default:""},upload_type:{type:String,default:""}},data:function(){return{actionUrl:""}},created:function(){},computed:{uploadHeader:function(){return{Authorization:"Bearer ".concat(localStorage.getItem("talToken"))}}},methods:{close:function(){this.$emit("close")},downloadTemplate:function(){var t=document.createElement("a");t.setAttribute("download",""),t.href=this.download_url,t.click()},uploadSuccess:function(t,e,a){t&&t.data&&t.data.errors&&t.data.errors.length>0?this.$notify.error({title:ERROR,message:"上传内容有部分错误!"}):this.$notify({title:SUCCESS,message:UPLOAD_SUCCESS,type:"success"})},uploadError:function(t,e,a){var o,l=JSON.parse(t.message);o=435==l.status&&l.data&&l.data.errors?l.data.errors[Object.keys(l.data.errors)[0]].join("/"):l.message,this.$notify.error({title:"ERROR",message:o||"".concat(e.name).concat(UPLOAD_FAIL)})}}}),s=r,n=(a("8190"),a("2877")),i=Object(n["a"])(s,o,l,!1,null,"be5ab396",null);e["default"]=i.exports},8190:function(t,e,a){"use strict";var o=a("e811"),l=a.n(o);l.a},e811:function(t,e,a){}}]);