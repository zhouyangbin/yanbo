(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d585f70"],{"1f2c":function(e,t,n){},d83e:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"self-report-component"},[n("div",{staticClass:"title"},[e._v("\n    "+e._s(e.name)+"\n  ")]),n("hr"),n("br"),n("div",[n("span",{staticClass:"sub-title"},[e._v("\n      "+e._s(e.constants.ADVANTAGE)+":  \n    ")]),n("span",{staticClass:"content"},[e._v("\n      "+e._s(e.advantage)+"\n    ")])]),n("br"),n("div",[n("span",{staticClass:"sub-title"},[e._v("\n      "+e._s(e.constants.PROMOTION)+":  \n    ")]),n("span",{staticClass:"content"},[e._v("\n      "+e._s(e.promotion)+"\n    ")])]),n("br"),e._l(e.scores,function(e,t){return n("case-item",{key:t,attrs:{data:e}})}),e.canSubmit?n("el-row",{attrs:{type:"flex",justify:"end"}},[n("el-popover",{attrs:{placement:"top",trigger:"click"},on:{hide:function(t){e.reason=""}}},[n("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请输入申诉理由"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}}),n("br"),n("br"),n("el-button",{staticStyle:{"margin-left":"50%",transform:"translateX(-50%)"},attrs:{type:"primary"},on:{click:e.complain}},[e._v(e._s(e.constants.CONFIRM))]),n("el-button",{staticStyle:{"margin-right":"20px"},attrs:{slot:"reference",type:"primary"},slot:"reference"},[e._v(e._s(e.constants.APPEAL))])],1),n("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v(e._s(e.constants.CONFIRM))])],1):e._e(),e.showImpressionDialog?n("impression-dialog",{attrs:{visible:e.showImpressionDialog},on:{"update:visible":function(t){e.showImpressionDialog=t}}}):e._e()],2)},a=[],o=n("fea5"),i=n("38fb"),r={props:{stage:{type:Number}},data:function(){return{showImpressionDialog:!1,reason:"",name:"",advantage:"",promotion:"",canSubmit:!1,scores:[],isManager:!1,constants:{ADVANTAGE:i["d"],PROMOTION:i["sd"],CONFIRM:i["v"],APPEAL:i["e"]}}},components:{"case-item":function(){return n.e("chunk-2a52799a").then(n.bind(null,"5b6c"))},"impression-dialog":function(){return n.e("chunk-597ef6cb").then(n.bind(null,"1b2f"))}},methods:{complain:function(){var e=this;if(this.reason){var t={evaluation_name_id:this.$route.params.id,action:1,reason:this.reason};Object(o["db"])(t).then(function(t){e.$message({message:i["B"],type:"success"}),e.getInfo()})}else this.$message({message:"请填写申诉理由",type:"warning"})},confirm:function(){var e=this;this.isManager?this.showImpressionDialog=!0:this.$confirm("是否确认提交, 是否继续?","提示",{confirmButtonText:i["v"],cancelButtonText:i["r"],type:"warning"}).then(function(){var t={evaluation_name_id:e.$route.params.id,action:2};Object(o["db"])(t).then(function(t){e.$message({message:i["B"],type:"success"}),e.getInfo()})}).catch(function(){})},getInfo:function(){var e=this;Object(o["z"])(this.$route.params.id).then(function(t){var n=t.employee_name,s=t.employee_workcode,a=t.highlevel_name,o=t.highlevel_workcode,i=t.superior_name,r=t.superior_workcode,c=t.advantage,l=t.promotion,u=t.scores,p=t.name,m=t.end_time,f=t.evaluation_type,d=t.can_submit;e.promotion=l,e.advantage=c,e.scores=u,e.canSubmit=1==d,e.name=p,e.isManager=2==f,e.$parent.basicInfo={name:n,workcode:s,leaderLabel:"我的上级",superior_name:i,superior_workcode:r,highlevel_name:a,highlevel_workcode:o,finishedTime:"待确认截止时间 :".concat(m)}})}},created:function(){this.getInfo()}},c=r,l=(n("d9f0"),n("2877")),u=Object(l["a"])(c,s,a,!1,null,"febcb2ec",null);u.options.__file="index.vue";t["default"]=u.exports},d9f0:function(e,t,n){"use strict";var s=n("1f2c"),a=n.n(s);a.a}}]);