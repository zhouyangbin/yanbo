(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2fefbaa6"],{"2cf3":function(e,t,i){"use strict";var a=i("be66"),s=i.n(a);s.a},"372d":function(e,t,i){"use strict";var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:!0,expression:"true",modifiers:{lock:!0}}],staticClass:"my-loading",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}})},s=[],n={},l=n,o=(i("ee47"),i("2877")),r=Object(o["a"])(l,a,s,!1,null,"6c517b7e",null),c=r.exports;i.d(t,"a",function(){return p});var p=function(e){return function(){return{component:e,loading:c,delay:0}}}},"38bf":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"assessment-detail"},[i("nav-bar",{attrs:{list:e.nav}}),i("br"),i("section",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],staticClass:"content-container bg-white"},[i("div",{staticClass:"content-title"},[i("div",[e._v(e._s(e.performanceDetail.name))]),i("div",{staticClass:"create-btn"},[0===e.performanceDetail.stage?i("el-button",{attrs:{type:"primary",disabled:!e.performanceDetail.can_start},on:{click:e.openAssessment}},[e._v("开启考核")]):e._e()],1)]),i("div",{staticClass:"list-timeline"},[i("div",{staticClass:"time-line",class:0===e.performanceDetail.stage?"":"active",attrs:{data:"填写中"+e.performanceDetail.indicator_fill_in+"/确认中"+e.performanceDetail.indicator_confirm}},[e._v("\n        指标设定\n      ")]),i("div",{staticClass:"time-line-sign",class:0===e.performanceDetail.stage?"":"active",attrs:{data:e._f("filterDate")(e.performanceDetail.indicator_setting_end_time)}}),i("div",{staticClass:"time-line-circle",class:e.performanceDetail.self_evaluation_begin_time>e.nowTime?"active":""},[i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"}),i("div",{staticClass:"circle-list"})]),i("div",{staticClass:"time-line-sign",class:e.performanceDetail.self_evaluation_begin_time>e.nowTime?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.self_evaluation_begin_time)}}),i("div",{staticClass:"time-line",class:e.performanceDetail.self_evaluation>e.nowTime?"active":"",attrs:{data:"自评中"+e.performanceDetail.self_evaluation}},[e._v("\n        自评\n      ")]),i("div",{staticClass:"time-line-sign",class:e.performanceDetail.superior_begin_time>e.nowTime?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.superior_begin_time)}}),i("div",{staticClass:"time-line",class:e.performanceDetail.superior_begin_time>e.nowTime?"active":"",attrs:{data:"复评中"+e.performanceDetail.re_evaluation}},[e._v("\n        上级评分\n      ")]),i("div",{staticClass:"time-line-sign",class:e.performanceDetail.isolation_begin_time>e.nowTime?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.isolation_begin_time)}}),i("div",{staticClass:"time-line",class:e.performanceDetail.isolation_begin_time>e.nowTime?"active":"",attrs:{data:"隔级审核中"+e.performanceDetail.isolation_adult}},[e._v("\n        隔级审核\n      ")]),i("div",{staticClass:"time-line-sign",class:e.performanceDetail.president_audit_begin_time>e.nowTime?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.president_audit_begin_time)}}),i("div",{staticClass:"time-line",class:e.performanceDetail.president_audit_begin_time>e.nowTime?"active":"",attrs:{data:"总裁审核中"+e.performanceDetail.president_audit}},[e._v("\n        总裁审核\n      ")]),i("div",{staticClass:"time-line-sign",class:600===e.performanceDetail.stage?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.result_comfirm_end_time)}}),i("div",{staticClass:"time-line",class:600===e.performanceDetail.stage?"active":"",attrs:{data:"确认中"+e.performanceDetail.confirm+"/已确认"+e.performanceDetail.confirmed}},[e._v("\n        结果确认\n      ")]),i("div",{staticClass:"time-line-sign",class:600===e.performanceDetail.stage?"active":"",attrs:{data:e._f("filterDate")(e.performanceDetail.result_confirm_end_time)}})])]),i("section",{staticClass:"content-container"},[i("div",{staticClass:"setting-list-box"},[i("div",{staticClass:"setting-title"},[i("div",[e._v("基本设置")]),i("div",{staticClass:"update-settin",on:{click:e.modifySettings}},[e._v("修改设置")])]),i("div",{staticClass:"basic-setting"},[i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("考核名称:")]),i("div",{staticClass:"setting-value"},[e._v(e._s(e.performanceDetail.name))])]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("适用范围:")]),i("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:e.performanceDetail.departments_text,placement:"top"}},[i("div",{staticClass:"setting-value"},[e._v("\n              "+e._s(e.performanceDetail.departments_text)+"\n            ")])])],1),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("绩效类型:")]),i("div",{staticClass:"setting-value"},[e._v("\n            "+e._s(e._f("filterType")(e.performanceDetail.performance_type))+"\n          ")])]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("考核周期:")]),i("div",{staticClass:"setting-value"},[e._v("\n            "+e._s(e._f("filterDate")(e.performanceDetail.period_start_time))+"~"+e._s(e._f("filterDate")(e.performanceDetail.period_end_time))+"\n          ")])]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("绩效模板:")]),i("div",{staticClass:"setting-value performance-tpl"},e._l(e.performanceDetail.templates,function(t){return i("span",{key:t.id},[e._v(e._s(t.name))])}),0)]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("是否允许申诉:")]),i("div",{staticClass:"setting-value"},[e._v("\n            "+e._s(1===e.performanceDetail.allow_appeal?"是":"否")+"\n          ")])]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-key"},[e._v("标签规则:")]),i("div",{staticClass:"setting-value"},[e.performanceDetail.tag?i("span",[e._v(e._s(e.performanceDetail.tag.tag_type))]):e._e()])])])]),i("div",{staticClass:"setting-list-box"},[i("div",{staticClass:"setting-title"},[i("div",[e._v("时间设置")]),i("div",{staticClass:"update-settin",on:{click:e.modifyTimes}},[e._v("修改时间")])]),i("div",{staticClass:"time-setting"},[i("div",{staticClass:"time-setting-box"},[i("div",{staticClass:"setting-key"},[e._v("整体考核起止时间:")]),i("div",{staticClass:"setting-value"},[e._v("\n            "+e._s(e._f("filterDate")(e.initTime.start_time))+" 至\n            "+e._s(e._f("filterDate")(e.initTime.end_time))+"\n          ")])]),i("div",{staticClass:"time-setting-box"},[i("div",{staticClass:"setting-key"},[e._v("各阶段起止时间:")]),i("div",{staticClass:"setting-detail"},[i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.indicator_setting_end_time)}},[e._v("\n              指标设定截止时间\n            ")]),i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.self_evaluation_begin_time)}},[e._v("\n              自评开始时间\n            ")]),i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.superior_begin_time)}},[e._v("\n              上级评开始时间\n            ")]),i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.isolation_begin_time)}},[e._v("\n              隔级审核开始时间\n            ")]),i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.president_audit_begin_time)}},[e._v("\n              总裁审核开始时间\n            ")]),i("div",{staticClass:"setting-value",attrs:{data:e._f("filterDate")(e.initTime.result_confirm_end_time)}},[e._v("\n              结果确认截止时间\n            ")])])]),i("div",{staticClass:"time-setting-box"},[i("div",{staticClass:"setting-key"},[e._v("可申诉时间段:")]),i("div",{staticClass:"setting-value"},[e._v("\n            "+e._s(e._f("filterDate")(e.initTime.appeal_begin_time))+"至"+e._s(e._f("filterDate")(e.initTime.appeal_end_time))+"\n          ")])])])]),i("div",{staticClass:"setting-list-box"},[i("div",{staticClass:"setting-title"},[e._v("考核人员名单")]),i("el-form",{ref:"personalForm",staticClass:"form-list",attrs:{model:e.personalForm,"label-width":"120px"}},[i("el-form-item",{staticClass:"limit-width",attrs:{prop:"name_or_workcode",label:"姓名(工号):"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.name_or_workcode,callback:function(t){e.$set(e.personalForm,"name_or_workcode",t)},expression:"personalForm.name_or_workcode"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"department_ids",label:"事业部:"}},[i("el-cascader",{attrs:{placeholder:"请选择事业部",props:e.filterProps,options:e.orgTree,"show-all-levels":!1},model:{value:e.personalForm.department_ids,callback:function(t){e.$set(e.personalForm,"department_ids",t)},expression:"personalForm.department_ids"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"stage",label:"状态:"}},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.personalForm.stage,callback:function(t){e.$set(e.personalForm,"stage",t)},expression:"personalForm.stage"}},e._l(e.statusOptions,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"hrd_name",label:"HRD:"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.hrd_name,callback:function(t){e.$set(e.personalForm,"hrd_name",t)},expression:"personalForm.hrd_name"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"superior_name",label:"直接上级:"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.superior_name,callback:function(t){e.$set(e.personalForm,"superior_name",t)},expression:"personalForm.superior_name"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"hrbp_name",label:"HRBP:"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.hrbp_name,callback:function(t){e.$set(e.personalForm,"hrbp_name",t)},expression:"personalForm.hrbp_name"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"tag_rule_id",label:"规则分布:"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.personalForm.tag_rule_id,callback:function(t){e.$set(e.personalForm,"tag_rule_id",t)},expression:"personalForm.tag_rule_id"}},e._l(e.tagOptions,function(e){return i("el-option",{key:e.id,attrs:{label:e.display_name,value:e.id}})}),1)],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"executive_type",label:"组织部成员类别:"}},[i("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.personalForm.executive_type,callback:function(t){e.$set(e.personalForm,"executive_type",t)},expression:"personalForm.executive_type"}},e._l(e.executiveTypes,function(e){return i("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}),1)],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"isolation_name",label:"隔级:"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.isolation_name,callback:function(t){e.$set(e.personalForm,"isolation_name",t)},expression:"personalForm.isolation_name"}})],1),i("el-form-item",{staticClass:"limit-width",attrs:{prop:"president_name",label:"总裁:"}},[i("el-input",{attrs:{placeholder:"请输入姓名或工号"},model:{value:e.personalForm.president_name,callback:function(t){e.$set(e.personalForm,"president_name",t)},expression:"personalForm.president_name"}})],1),i("el-form-item",{staticClass:"on-query"},[i("el-button",{on:{click:function(t){return e.resetForm("personalForm")}}},[e._v("重置")]),i("el-button",{attrs:{type:"primary"},on:{click:e.onQuery}},[e._v("查询")])],1)],1),i("div",{staticClass:"table-operate"},[i("el-button-group",{staticClass:"btn-group"},[i("el-button",{attrs:{icon:"el-icon-upload2"},on:{click:e.importList}},[e._v("导入名单")]),i("el-button",{attrs:{icon:"el-icon-download"}},[i("a",{staticClass:"down-load",attrs:{download:"",href:e.exportUrl}},[e._v("导出名单")])]),i("el-button",{attrs:{icon:"el-icon-bell",disabled:e.currentStage<100},on:{click:e.reminder}},[e._v("提醒")]),i("el-button",{attrs:{icon:"el-icon-plus"},on:{click:e.addPerson}},[e._v("添加人员")]),i("el-button",{attrs:{icon:"el-icon-download"}},[i("a",{staticClass:"down-load",attrs:{download:"",href:e.exportDetailUrl}},[e._v("导出明细")])]),i("el-popover",{attrs:{placement:"bottom",width:"120",trigger:"hover"}},[i("div",{staticClass:"more-btn",on:{click:function(t){return e.showUploadWork("finance")}}},[i("i",{staticClass:"el-icon-upload2"}),i("span",[e._v("上传财务指标")])]),i("div",{staticClass:"more-btn",on:{click:function(t){return e.showUploadWork("work")}}},[i("i",{staticClass:"el-icon-upload2"}),i("span",[e._v("上传工作目标")])]),i("div",{staticClass:"more-btn",on:{click:e.removeList}},[i("i",{staticClass:"el-icon-delete"}),i("span",[e._v("移除")])]),i("el-button",{attrs:{slot:"reference",icon:"el-icon-more"},slot:"reference"})],1)],1),i("div",{staticClass:"table-number"},[i("i",{staticClass:"el-icon-info"}),e._v(" 共"+e._s(e.total)+"人，已选\n          "),i("span",[e._v(e._s(e.selectedNumber))]),e._v(" 人\n        ")])],1),i("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.userList,stripe:""},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"workcode",label:"工号",width:"80"}}),i("el-table-column",{attrs:{width:"100",prop:"name",label:"姓名"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"business_unit_name",width:"200",label:"总部/事业部"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"sub_department_name",label:"大部门/分校",width:"200"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"email",label:"邮箱",width:"120"}}),i("el-table-column",{attrs:{"show-overflow-tooltip":!0,prop:"executive_type_text",label:"组织部成员类别",width:"200"}}),i("el-table-column",{attrs:{width:"100",prop:"hrbp_name",label:"HRBP"}}),i("el-table-column",{attrs:{width:"100",prop:"hrd_name",label:"HRD"}}),i("el-table-column",{attrs:{width:"100",prop:"superior_name",label:"直接上级"}}),i("el-table-column",{attrs:{width:"100",prop:"isolation_name",label:"隔级"}}),i("el-table-column",{attrs:{width:"100",prop:"president_name",label:"总裁"}}),i("el-table-column",{attrs:{width:"100",prop:"self_evaluation_score",label:"自评分"}}),i("el-table-column",{attrs:{width:"100",prop:"re_evaluation_score",label:"复评分"}}),i("el-table-column",{attrs:{width:"100",prop:"culture_score",label:"文化评分"}}),i("el-table-column",{attrs:{width:"100",prop:"final_score",label:"最终成绩"}}),i("el-table-column",{attrs:{width:"100",prop:"tag_rule_id",label:"规则分布"}}),i("el-table-column",{attrs:{prop:"stage_text",fixed:"right",width:"120",label:"状态"}}),i("el-table-column",{attrs:{label:"操作",fixed:"right",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.modifyUser(t.row)}}},[e._v("修改")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.remove(t.row.id)}}},[e._v("移除")]),i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return e.viewIndicators(t.row)}}},[e._v("查看指标")])]}}])})],1),i("br"),i("el-row",{attrs:{type:"flex",justify:"end"}},[e.total?i("el-pagination",{attrs:{background:"","current-page":e.personalForm.page,"page-sizes":[10,20,50],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)],1)]),e.showDialog?i("assessment-dialog",{attrs:{visible:e.showDialog,infoType:e.infoType,performanceId:e.performanceId,performanceTypes:e.performanceTypes,orgTree:e.orgTree},on:{close:e.tplDialogClose,update:e.tplDefine}}):e._e(),e.showSetupTime?i("setup-time",{attrs:{visible:e.showSetupTime,performanceId:e.performanceId,initTime:e.initTime},on:{close:e.setupTimeClose,update:e.confirmTime}}):e._e(),e.showModifyUser?i("modify-user",{attrs:{visible:e.showModifyUser,userType:e.userType,performanceId:e.performanceId,userId:e.userId,userInfo:e.userInfo},on:{close:e.modifyUserClose,update:e.confirmUser}}):e._e(),e.showConfirmDialog?i("confirm-dialog",{attrs:{visible:e.showConfirmDialog,tipsText:e.tipsText},on:{update:e.confirmDialog,close:e.closeDialog}}):e._e(),e.showImportList?i("import-list",{attrs:{visible:e.showImportList,uploadTplUrl:e.uploadTplUrl,importTplUrl:e.importTplUrl,performanceId:e.performanceId},on:{close:e.closeImportList,update:e.confirmImportUser}}):e._e(),e.showUpload?i("common-upload-dialog",{attrs:{visible:e.showUpload,uploadTitle:e.uploadTitle,uploadActionUrl:e.uploadActionUrl,uploadType:e.uploadType,downloadUrl:e.downloadUrl},on:{close:e.upload_close,update:e.confirmUpload}}):e._e()],1)},s=[],n=(i("7f7f"),i("372d")),l=i("fea5"),o=i("c9f1"),r=(i("38fb"),{components:{"nav-bar":Object(n["a"])(i.e("chunk-d5094d72").then(i.bind(null,"3208"))),"confirm-dialog":Object(n["a"])(i.e("chunk-9bb8f38e").then(i.bind(null,"1f04"))),"assessment-dialog":Object(n["a"])(i.e("chunk-a321245a").then(i.bind(null,"4abf"))),"setup-time":Object(n["a"])(i.e("chunk-409b89f6").then(i.bind(null,"1b32"))),"modify-user":Object(n["a"])(i.e("chunk-f74869ae").then(i.bind(null,"94a0"))),"common-upload-dialog":Object(n["a"])(i.e("chunk-e89b5d7e").then(i.bind(null,"60b7"))),"import-list":Object(n["a"])(i.e("chunk-151fd94c").then(i.bind(null,"a9b9")))},data:function(){return{filterProps:{value:"id",label:"name",children:"children"},statusOptions:[{label:"指标填写中",value:0},{label:"指标确认中",value:10},{label:"指标已确认",value:20},{label:"评分未开始",value:30},{label:"自评中",value:40},{label:"上级评",value:50},{label:"隔级审核中",value:60},{label:"总裁审核中",value:70},{label:"已审核",value:80},{label:"确认中",value:90},{label:"申诉中",value:100},{label:"已确认",value:110},{label:"已结束",value:120}],executiveTypes:[],tagOptions:[],performanceDetail:{},performanceId:this.$route.params.id,total:0,selectedNumber:0,showConfirmDialog:!1,showDialog:!1,showSetupTime:!1,infoType:"add",performanceTypes:[],orgTree:[],tipsText:"",nowTime:"",nav:[{label:"组织部绩效考核列表",href:o["V"]},{label:"考核详情",active:!0}],personalForm:{name_or_workcode:"",department_ids:[],stage:"",executive_type:"",superior_name:"",isolation_name:"",president_name:"",hrbp_name:"",tag_rule_id:"",hrd_name:"",page:1,perPage:10},userList:[],performance_user_ids:[],showModifyUser:!1,userInfo:{},userId:0,userType:"add",currentStage:0,showUpload:!1,uploadTitle:"",uploadActionUrl:"",uploadType:"",downloadUrl:"",isLoading:!0,showImportList:!1,uploadTplUrl:"",importTplUrl:"",exportUrl:"",exportDetailUrl:"",constants:{postUploadFinancialIndicators:o["tb"],postUploadWorkIndicators:o["ub"],getFinancialtpm:o["rb"],getWorktpm:o["sb"]}}},computed:{initTime:function(){return{start_time:this.performanceDetail.start_time,end_time:this.performanceDetail.end_time,indicator_setting_end_time:this.performanceDetail.indicator_setting_end_time,self_evaluation_begin_time:this.performanceDetail.self_evaluation_begin_time,superior_begin_time:this.performanceDetail.superior_begin_time,isolation_begin_time:this.performanceDetail.isolation_begin_time,president_audit_begin_time:this.performanceDetail.president_audit_begin_time,result_confirm_end_time:this.performanceDetail.result_confirm_end_time,appeal_begin_time:this.performanceDetail.appeal_begin_time,appeal_end_time:this.performanceDetail.appeal_end_time}}},filters:{filterDate:function(e){var t="";return e&&(t=/\d{4}-\d{1,2}-\d{1,2}/g.exec(e),t=t[0]),t},filterType:function(e){var t="";return"annual"===e?t="年度":"semi-annual"===e?t="半年度":"quarter"===e?t="季度":"monthly"===e&&(t="月度"),t}},methods:{handleSizeChange:function(e){this.personalForm.perPage=e,this.getUserList()},handleCurrentChange:function(e){this.personalForm.page=e,this.getUserList()},confirmUpload:function(){this.showUpload=!1,this.getUserList()},confirmImportUser:function(){this.showImportList=!1,this.getUserList()},confirmUser:function(){this.showModifyUser=!1,this.getUserList()},tplDefine:function(){this.showDialog=!1,this.getPerformanceDetailData()},confirmTime:function(){this.showSetupTime=!1,this.getPerformanceDetailData()},modifyUserClose:function(){this.showModifyUser=!1},handleSelectionChange:function(e){this.selectedNumber=e.length,this.performance_user_ids=[];for(var t=0;t<e.length;t++)this.performance_user_ids.push(e[t].id)},reminder:function(){var e=this;Object(l["kb"])(this.performanceId).then(function(t){e.$message({message:"提醒成功",type:"success"})}).catch(function(e){})},addPerson:function(){this.userType="add",this.showModifyUser=!0},importList:function(){this.showImportList=!0,this.importTplUrl=o["kb"],this.uploadTplUrl=Object(o["X"])(this.performanceId)},closeImportList:function(){this.showImportList=!1},removeList:function(){this.delPerformanceUser()},viewDistribution:function(){},modifySettings:function(){this.infoType="modify",this.showDialog=!0},modifyTimes:function(){this.showSetupTime=!0},setupTimeClose:function(){this.showSetupTime=!1},tplDialogClose:function(){this.showDialog=!1},openAssessment:function(){this.showConfirmDialog=!0,this.tipsText="是否确认启动考核？"},confirmDialog:function(e){var t=this;"open"===e?Object(l["Fc"])(this.performanceId).then(function(e){t.showConfirmDialog=!1,t.getPerformanceDetailData()}).catch(function(e){}):this.showConfirmDialog=!1},closeDialog:function(){this.showConfirmDialog=!1},onQuery:function(){this.getUserList()},resetForm:function(e){this.$refs[e].resetFields(),this.getUserList()},viewIndicators:function(e){this.$router.push(Object(o["fb"])(this.performanceId,e.id))},delPerformanceUser:function(){var e=this,t={performance_user_ids:this.performance_user_ids};Object(l["k"])(this.performanceId,t).then(function(t){e.performance_user_ids=[],e.getUserList()}).catch(function(e){})},remove:function(e){this.performance_user_ids=[e],this.delPerformanceUser()},modifyUser:function(e){this.userId=e.id;var t=e.name,i=e.workcode,a=e.email,s=e.superior_workcode,n=e.isolation_workcode,l=e.president_workcode,o=e.hrbp_workcode,r=e.hrd_workcode,c=e.executive_type;this.userInfo={name:t,workcode:i,email:a,superior_workcode:s,isolation_workcode:n,president_workcode:l,hrbp_workcode:o,hrd_workcode:r,executive_type:c},this.userType="modify",this.showModifyUser=!0},getUserList:function(){var e=this;Object(l["ob"])(this.performanceId,this.personalForm).then(function(t){var i=t.data,a=t.total;e.total=a,e.userList=i}).catch(function(e){})},getPerformanceDetailData:function(){var e=this;Object(l["gb"])(this.performanceId).then(function(t){e.currentStage=t.stage,e.isLoading=!1,e.performanceDetail=t}).catch(function(e){})},showUploadWork:function(e){this.showUpload=!0,"finance"==e?(this.uploadTitle="财务指标",this.uploadActionUrl=this.constants.postUploadFinancialIndicators(this.performanceId),this.downloadUrl=this.constants.getFinancialtpm(this.performanceId),this.uploadType=e):(this.uploadTitle="工作目标",this.uploadActionUrl=this.constants.postUploadWorkIndicators(this.performanceId),this.downloadUrl=this.constants.getWorktpm(this.performanceId),this.uploadType=e)},upload_close:function(){this.showUpload=!1}},created:function(){var e=this;this.nowTime=new Date,this.exportUrl=Object(o["mb"])(this.performanceId),this.exportDetailUrl=Object(o["t"])(this.performanceId),this.getPerformanceDetailData(),Object(l["eb"])().then(function(t){e.orgTree=t}).catch(function(e){}),Object(l["nb"])().then(function(t){e.performanceTypes=t}).catch(function(e){}),Object(l["u"])(this.performanceId).then(function(t){e.executiveTypes=t}).catch(function(e){}),Object(l["lb"])(this.performanceId).then(function(t){e.tagOptions=t}).catch(function(e){}),this.getUserList()}}),c=r,p=(i("2cf3"),i("792d"),i("2877")),d=Object(p["a"])(c,a,s,!1,null,"02efc528",null);t["default"]=d.exports},"792d":function(e,t,i){"use strict";var a=i("b4b7"),s=i.n(a);s.a},"9f9e":function(e,t,i){},b4b7:function(e,t,i){},be66:function(e,t,i){},ee47:function(e,t,i){"use strict";var a=i("9f9e"),s=i.n(a);s.a}}]);