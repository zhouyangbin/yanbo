(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-070488ae"],{"0b27":function(e,r,t){},"28a5":function(e,r,t){"use strict";var o=t("aae3"),s=t("cb7c"),i=t("ebd6"),l=t("0390"),a=t("9def"),n=t("5f1b"),u=t("520a"),c=t("79e5"),d=Math.min,p=[].push,m="split",f="length",b="lastIndex",h=4294967295,k=!c(function(){RegExp(h,"y")});t("214f")("split",2,function(e,r,t,c){var v;return v="c"=="abbc"[m](/(b)*/)[1]||4!="test"[m](/(?:)/,-1)[f]||2!="ab"[m](/(?:ab)*/)[f]||4!="."[m](/(.?)(.?)/)[f]||"."[m](/()()/)[f]>1||""[m](/.?/)[f]?function(e,r){var s=String(this);if(void 0===e&&0===r)return[];if(!o(e))return t.call(s,e,r);var i,l,a,n=[],c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,m=void 0===r?h:r>>>0,k=new RegExp(e.source,c+"g");while(i=u.call(k,s)){if(l=k[b],l>d&&(n.push(s.slice(d,i.index)),i[f]>1&&i.index<s[f]&&p.apply(n,i.slice(1)),a=i[0][f],d=l,n[f]>=m))break;k[b]===i.index&&k[b]++}return d===s[f]?!a&&k.test("")||n.push(""):n.push(s.slice(d)),n[f]>m?n.slice(0,m):n}:"0"[m](void 0,0)[f]?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,o){var s=e(this),i=void 0==t?void 0:t[r];return void 0!==i?i.call(t,s,o):v.call(String(s),t,o)},function(e,r){var o=c(v,e,this,r,v!==t);if(o.done)return o.value;var u=s(e),p=String(this),m=i(u,RegExp),f=u.unicode,b=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(k?"y":"g"),g=new m(k?u:"^(?:"+u.source+")",b),w=void 0===r?h:r>>>0;if(0===w)return[];if(0===p.length)return null===n(g,p)?[p]:[];var _=0,y=0,F=[];while(y<p.length){g.lastIndex=k?y:0;var x,S=n(g,k?p:p.slice(y));if(null===S||(x=d(a(g.lastIndex+(k?0:y)),p.length))===_)y=l(p,y,f);else{if(F.push(p.slice(_,y)),F.length===w)return F;for(var $=1;$<=S.length-1;$++)if(F.push(S[$]),F.length===w)return F;y=_=x}}return F.push(p.slice(_)),F}]})},"94a0":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-dialog",{staticClass:"modify-user",attrs:{"close-on-click-modal":!1,width:"650px",visible:e.visible},on:{close:e.close}},[t("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s("add"===e.userType?"添加人员":"修改人员")+"\n  ")]),t("el-form",{ref:"userForm",staticClass:"user-form",attrs:{rules:e.userRules,"label-width":"110px",model:e.userForm}},[t("el-form-item",{attrs:{label:"姓名/工号:",prop:"workcode"}},[t("el-select",{attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入姓名或工号","remote-method":e.searchME,disabled:"add"!==e.userType,loading:e.loading},on:{change:e.selectUser},model:{value:e.userForm.workcode,callback:function(r){e.$set(e.userForm,"workcode",r)},expression:"userForm.workcode"}},e._l(e.userOptions,function(e){return t("el-option",{key:e.workcode,attrs:{label:e.workcode+e.name+e.email,value:e.workcode+"-"+e.email}})}),1)],1),t("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[t("el-input",{attrs:{disabled:"add"!==e.userType||""!==e.userForm.email},model:{value:e.userForm.email,callback:function(r){e.$set(e.userForm,"email",r)},expression:"userForm.email"}})],1),t("el-form-item",{attrs:{label:"直接上级:",prop:"superior_workcode"}},[t("el-input",{model:{value:e.userForm.superior_workcode,callback:function(r){e.$set(e.userForm,"superior_workcode",r)},expression:"userForm.superior_workcode"}})],1),t("el-form-item",{attrs:{label:"隔级:",prop:"isolation_workcode"}},[t("el-input",{model:{value:e.userForm.isolation_workcode,callback:function(r){e.$set(e.userForm,"isolation_workcode",r)},expression:"userForm.isolation_workcode"}})],1),t("el-form-item",{attrs:{label:"总裁:",prop:"president_workcode"}},[t("el-input",{model:{value:e.userForm.president_workcode,callback:function(r){e.$set(e.userForm,"president_workcode",r)},expression:"userForm.president_workcode"}})],1),t("el-form-item",{attrs:{label:"HRBP:",prop:"hrbp_workcode"}},[t("el-input",{model:{value:e.userForm.hrbp_workcode,callback:function(r){e.$set(e.userForm,"hrbp_workcode",r)},expression:"userForm.hrbp_workcode"}})],1),t("el-form-item",{attrs:{label:"HRD:",prop:"hrd_workcode"}},[t("el-input",{model:{value:e.userForm.hrd_workcode,callback:function(r){e.$set(e.userForm,"hrd_workcode",r)},expression:"userForm.hrd_workcode"}})],1),t("el-form-item",{attrs:{label:"高管类别:",prop:"executive_type"}},[t("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.userForm.executive_type,callback:function(r){e.$set(e.userForm,"executive_type",r)},expression:"userForm.executive_type"}},e._l(e.executiveTypes,function(e){return t("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}),1)],1),t("el-form-item",{attrs:{label:"上传指标:"}},[t("el-upload",{staticClass:"upload-demo",attrs:{action:e.actionUrl,uploadSuccess:e.uploadSuccess}},[t("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),t("el-form-item",{attrs:{label:"提示信息:"}},[t("span",{staticClass:"tip-info",class:e.isUploadSuccess?"active":""},[e._v("上传成功！共"+e._s(e.uploadNum)+"人。")])])],1),t("div",{attrs:{slot:"footer"},slot:"footer"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:function(r){return e.submit("userForm")}}},[e._v("确定")]),t("el-button",{attrs:{round:"",size:"medium"},on:{click:e.close}},[e._v("取消")])],1)],1)],1)},s=[],i=(t("28a5"),t("38fb"),t("fea5")),l=(t("372d"),{props:{visible:{type:Boolean,default:!1},userType:{type:String,default:"add"},userId:{type:String,default:""},performanceId:{type:String,default:""},userInfo:{type:Object,default:function(){return{}}}},data:function(){return{userForm:{workcode:"",email:"",superior_workcode:"",isolation_workcode:"",president_workcode:"",hrbp_workcode:"",hrd_workcode:"",executive_type:""},userRules:{workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],email:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],superior_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],isolation_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],president_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],hrbp_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],hrd_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],executive_type:[{required:!0,message:"请选择高管类别",trigger:"change"}]},userOptions:[],loading:!1,executiveTypes:[],actionUrl:"",uploadNum:0,isUploadSuccess:!1}},methods:{selectUser:function(e){this.userForm.workcode=e.split("-")[0],this.userForm.email=e.split("-")[1]},searchME:function(e){var r=this;""!==e?(this.loading=!0,Object(i["qb"])({name_or_workcode:e}).then(function(e){r.loading=!1,r.userOptions=e}).catch(function(e){})):this.userOptions=[]},close:function(){this.$emit("close")},submit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;"add"!=r.userType?Object(i["uc"])(r.performanceId,r.userId,r.userForm).then(function(e){r.$emit("define")}).catch(function(e){}):Object(i["Nb"])(r.performanceId,r.userForm).then(function(e){r.$emit("define")}).catch(function(e){})})},uploadSuccess:function(e,r,t){e&&e.data&&e.data.errors&&e.data.errors.length>0?(this.tableData=e.data.errors.slice(),this.$notify.error({title:ERROR,message:"上传内容有部分错误!"})):(this.tableData=[],this.$notify({title:SUCCESS,message:UPLOAD_SUCCESS,type:"success"}),this.close())}},beforeDestroy:function(){this.$refs["userForm"].resetFields()},created:function(){var e=this;Object(i["zb"])(this.performanceId).then(function(r){e.executiveTypes=r,console.log(r)}).catch(function(e){}),this.userType}}),a=l,n=(t("e3f4"),t("2877")),u=Object(n["a"])(a,o,s,!1,null,"05d656f8",null);r["default"]=u.exports},aae3:function(e,r,t){var o=t("d3f4"),s=t("2d95"),i=t("2b4c")("match");e.exports=function(e){var r;return o(e)&&(void 0!==(r=e[i])?!!r:"RegExp"==s(e))}},e3f4:function(e,r,t){"use strict";var o=t("0b27"),s=t.n(o);s.a}}]);