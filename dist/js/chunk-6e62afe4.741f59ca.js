(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e62afe4"],{"08ba":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{staticClass:"tplDialog",attrs:{width:"650px",visible:t.visible},on:{close:t.close}},[r("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("\n    "+t._s("add"===t.infoType?t.constants.ADD:t.constants.MODIFY)+"\n  ")]),r("el-form",{ref:"tplForm",staticClass:"tplForm",attrs:{rules:t.rules,"label-width":"100px",model:t.tplForm}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{staticStyle:{width:"400px"},model:{value:t.tplForm.name,callback:function(e){t.$set(t.tplForm,"name",e)},expression:"tplForm.name"}})],1),r("el-form-item",{attrs:{label:"事业部",prop:"dp"}},[r("el-select",{attrs:{placeholder:"请选择事业部"},model:{value:t.tplForm.dp,callback:function(e){t.$set(t.tplForm,"dp",e)},expression:"tplForm.dp"}},t._l(t.departmentsOps,function(t){return r("el-option",{key:t.department_id,attrs:{label:t.name,value:t.department_id}})}))],1),r("el-form-item",{attrs:{label:"绩效类型",prop:"types"}},[r("el-select",{attrs:{placeholder:"请选择绩效类型 "},model:{value:t.tplForm.types,callback:function(e){t.$set(t.tplForm,"types",e)},expression:"tplForm.types"}},t._l(t.constants.ENUM_PERFORMANCE_TYPE,function(t){return r("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}))],1),r("el-form-item",{attrs:{label:"模板字段"}},[r("el-checkbox-group",{model:{value:t.tplForm.property,callback:function(e){t.$set(t.tplForm,"property",e)},expression:"tplForm.property"}},t._l(t.constants.ENUM_PERFORMANCE_CONFIG_PROPERTY,function(e){return r("el-checkbox",{key:e.key,attrs:{value:e.value,label:e.key,name:"property"}},[t._v(t._s(e.value))])}))],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:t.submit}},[t._v(t._s(t.constants.CONFIRM))]),r("el-button",{staticClass:"btn-reset",attrs:{round:"",size:"medium"},on:{click:t.close}},[t._v(t._s(t.constants.CANCEL))])],1)],1)],1)},l=[],o=(r("6b54"),r("7f7f"),r("38fb")),a=r("fea5"),s={props:{visible:{type:Boolean,default:!1},infoType:{type:String,default:"add"},initData:{type:Object,default:function(){return{}}},departmentsOps:{type:Array,default:function(){return[]}}},data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],dp:[{required:!0,message:"请选择事业部",trigger:"blur"}],types:[{required:!0,message:"请选择绩效类型",trigger:"blur"}]},property:[],tplForm:{name:"",dp:"",types:"",property:[]},constants:{ADD:o["c"],MODIFY:o["Lc"],CONFIRM:o["y"],CANCEL:o["t"],ENUM_PERFORMANCE_TYPE:o["nb"],ENUM_PERFORMANCE_CONFIG_PROPERTY:o["lb"]}}},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$refs["tplForm"].validate(function(e){if(e){var r={name:t.tplForm.name,department_id:t.tplForm.dp,type_id:t.tplForm.types,template_columns:t.tplForm.property};return"add"==t.infoType?Object(a["rb"])(r).then(function(e){t.close()}):Object(a["wb"])(t.initData.id,r).then(function(e){t.close()})}})}},beforeDestroy:function(){this.$refs["tplForm"].resetFields()},created:function(){var t=this;"add"!=this.infoType&&this.initData.id&&Object(a["R"])(this.initData.id).then(function(e){var r=e.name,n=e.department_id,l=e.type_id,o=e.template_columns;t.tplForm={name:r,dp:n,types:l.toString(),property:o.map(function(t){return String(t.id)})}})}},i=s,p=(r("9dfa"),r("2877")),c=Object(p["a"])(i,n,l,!1,null,"41c9f156",null);c.options.__file="index.vue";e["default"]=c.exports},"0bfb":function(t,e,r){"use strict";var n=r("cb7c");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"2d87":function(t,e,r){},3846:function(t,e,r){r("9e1e")&&"g"!=/./g.flags&&r("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:r("0bfb")})},"6b54":function(t,e,r){"use strict";r("3846");var n=r("cb7c"),l=r("0bfb"),o=r("9e1e"),a="toString",s=/./[a],i=function(t){r("2aba")(RegExp.prototype,a,t,!0)};r("79e5")(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?i(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?l.call(t):void 0)}):s.name!=a&&i(function(){return s.call(this)})},"9dfa":function(t,e,r){"use strict";var n=r("2d87"),l=r.n(n);l.a}}]);