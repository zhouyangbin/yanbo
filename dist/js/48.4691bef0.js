webpackJsonp([48],{"6fUK":function(t,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var s=a("OE2U"),o=a("BHhq"),e={props:{visible:{type:Boolean,default:!1},data:{type:Object,default:function(){return{}}}},data:function(){return{ruleForm:{isMapping:this.data.type_id||""},D:this.data.fraction&&this.data.fraction[0]||100,C:[101,this.data.fraction&&this.data.fraction[1]||200],B:[201,this.data.fraction&&this.data.fraction[2]||300],A:[301,this.data.fraction&&this.data.fraction[3]||400],S:[this.data.fraction&&this.data.fraction[3]+1||401,500],rules:{isMapping:[{required:!0,message:"请选择类型",trigger:"blur"}]},constants:{CONFIRM:s["l"],CANCEL:s["j"]}}},methods:{close:function(){this.$emit("close")},formatTooltip:function(t){return parseInt(t)/100},submit:function(){var t=this;this.$refs["ruleForm"].validate(function(i){if(i){var a={type_id:t.ruleForm.isMapping};t.showMapping&&(a.fraction=[t.D/100,t.C[1]/100,t.B[1]/100,t.A[1]/100]),Object(o["X"])(t.data.id,a).then(function(i){t.close()}).catch(function(t){})}})}},computed:{showMapping:function(){return 1==this.ruleForm.isMapping}},watch:{C:{handler:function(t,i){t[0]!=i[0]&&(this.D=t[0]-1<0?0:t[0]-1),t[1]!=i[1]&&t[1]-this.B[0]!=1&&(this.B=[t[1]+1,Math.max(t[1]+1,this.B[1])])}},D:{handler:function(t,i){t!=i&&(this.C=[t+1,this.C[1]])}},B:{handler:function(t,i){if(t[0]!=i[0]&&t[0]-this.C[1]!=1){var a=t[0]-1<1?1:t[0]-1,s=Math.min(a,this.C[0]);this.C=[s,a]}t[1]!=i[1]&&(this.A=[t[1]+1,Math.max(t[1]+1,this.A[1])])}},A:{handler:function(t,i){if(t[0]!=i[0]&&t[0]-this.B[1]!=1){var a=t[0]-1<1?1:t[0]-1,s=Math.min(a,this.B[0]);this.B=[s,a]}t[1]!=i[1]&&(this.S=[t[1]+1,500])}},S:{handler:function(t,i){if(t[0]!=i[0]&&t[0]-this.A[1]!=1){var a=t[0]-1<1?1:t[0]-1,s=Math.min(a,this.A[0]);this.A=[s,a]}t[1]!=i[1]&&(this.S=[t[0],500])}}}},n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("el-dialog",{staticClass:"ruleDialog",attrs:{width:"650px",visible:t.visible},on:{close:t.close}},[a("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v("\n    "+t._s(t.data.department)+"\n  ")]),a("el-form",{ref:"ruleForm",staticClass:"ruleForm",attrs:{rules:t.rules,"label-width":"150px",model:t.ruleForm}},[a("el-form-item",{attrs:{label:"是否强制对应",prop:"isMapping"}},[a("el-radio-group",{model:{value:t.ruleForm.isMapping,callback:function(i){t.$set(t.ruleForm,"isMapping",i)},expression:"ruleForm.isMapping"}},[a("el-radio",{attrs:{label:1}},[t._v("是")]),a("el-radio",{attrs:{label:2}},[t._v("否")])],1)],1),t.showMapping?a("div",[a("div",{staticClass:"mapping-container"},[a("span",[t._v("D")]),a("span",[t._v("对应")]),a("div",[a("el-slider",{staticStyle:{width:"400px"},attrs:{"tooltip-class":"tooltip",max:496,"format-tooltip":t.formatTooltip},model:{value:t.D,callback:function(i){t.D=i},expression:"D"}})],1)]),a("div",{staticClass:"mapping-container"},[a("span",[t._v("C")]),a("span",[t._v("对应")]),a("div",[a("el-slider",{staticStyle:{width:"400px"},attrs:{"tooltip-class":"tooltip",range:"",min:1,max:497,"format-tooltip":t.formatTooltip},model:{value:t.C,callback:function(i){t.C=i},expression:"C"}})],1)]),a("div",{staticClass:"mapping-container"},[a("span",[t._v("B")]),a("span",[t._v("对应")]),a("div",[a("el-slider",{staticStyle:{width:"400px"},attrs:{"tooltip-class":"tooltip",range:"",min:2,max:498,"format-tooltip":t.formatTooltip},model:{value:t.B,callback:function(i){t.B=i},expression:"B"}})],1)]),a("div",{staticClass:"mapping-container"},[a("span",[t._v("A")]),a("span",[t._v("对应")]),a("div",[a("el-slider",{staticStyle:{width:"400px"},attrs:{"tooltip-class":"tooltip",range:"",min:3,max:499,"format-tooltip":t.formatTooltip},model:{value:t.A,callback:function(i){t.A=i},expression:"A"}})],1)]),a("div",{staticClass:"mapping-container"},[a("span",[t._v("S")]),a("span",[t._v("对应")]),a("div",[a("el-slider",{staticStyle:{width:"400px"},attrs:{"tooltip-class":"tooltip",min:4,range:"",max:500,"format-tooltip":t.formatTooltip},model:{value:t.S,callback:function(i){t.S=i},expression:"S"}})],1)])]):t._e()],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-row",{attrs:{type:"flex",justify:"center"}},[a("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:t.submit}},[t._v(t._s(t.constants.CONFIRM))]),a("el-button",{staticClass:"btn-reset",attrs:{round:"",size:"medium"},on:{click:t.close}},[t._v(t._s(t.constants.CANCEL))])],1)],1)],1)},l=[],r=a("XyMi");function c(t){a("KMxX")}var p=!1,d=c,u="data-v-35ea5e82",f=null,m=Object(r["a"])(e,n,l,p,d,u,f);i["default"]=m.exports},KMxX:function(t,i){}});
//# sourceMappingURL=48.4691bef0.js.map