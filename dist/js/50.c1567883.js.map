{"version":3,"sources":["webpack:///src/components/modules/performance/TplDialog/index.vue","webpack:///./src/components/modules/performance/TplDialog/index.vue?1092","webpack:///./src/components/modules/performance/TplDialog/index.vue"],"names":["TplDialog","Boolean","String","Object","Array","ADD","TEXT","MODIFY","CONFIRM","CANCEL","ENUM_PERFORMANCE_TYPE","ENUM_PERFORMANCE_CONFIG_PROPERTY","_this","this","name","dp","types","property","close","resetFields","_this2","res","department_id","toString","id","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","width","visible","on","slot","_v","_s","infoType","constants","ref","rules","label-width","model","tplForm","label","prop","staticStyle","value","callback","$$v","$set","expression","placeholder","_l","item","key","v","type","justify","round","size","click","submit","staticRenderFns","injectStyle","context","__webpack_require__","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","component_normalizer","__webpack_exports__"],"mappings":"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","file":"js/50.c1567883.js","sourcesContent":["<template>\n  <el-dialog @close=\"close\" width=\"650px\" :visible=\"visible\" class=\"tplDialog\">\n    <div slot=\"title\" class=\"title\">\n      {{infoType ==='add' ? constants.ADD: constants.MODIFY}}\n    </div>\n    <el-form :rules=\"rules\" label-width=\"100px\" ref=\"tplForm\" :model=\"tplForm\" class=\"tplForm\">\n      <el-form-item label=\"名称\" prop=\"name\">\n        <el-input style=\"width:400px\" v-model=\"tplForm.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"事业部\" prop=\"dp\">\n        <!-- <el-cascader style=\"width:400px\" :props=\"treeProps\" placeholder=\"选择事业部\" :options=\"departmentTree\" v-model=\"tplForm.dp \"></el-cascader> -->\n        <el-select v-model=\"tplForm.dp\" placeholder=\"请选择事业部\">\n          <el-option v-for=\"item in departmentsOps\" :key=\"item.department_id\" :label=\"item.name\" :value=\"item.department_id\">\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"绩效类型\" prop=\"types\">\n        <el-select v-model=\"tplForm.types\" placeholder=\"请选择绩效类型 \">\n          <el-option v-for=\"v of constants.ENUM_PERFORMANCE_TYPE\" :key=\"v.key\" :label=\"v.value\" :value=\"v.key\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"模板字段\">\n        <el-checkbox-group v-model=\"tplForm.property\">\n          <el-checkbox v-for=\"v of constants.ENUM_PERFORMANCE_CONFIG_PROPERTY\" :key=\"v.key\" :value=\"v.value\" :label=\"v.key\" name=\"property\">{{v.value}}</el-checkbox>\n        </el-checkbox-group>\n      </el-form-item>\n    </el-form>\n    <div slot=\"footer\">\n      <el-row type=\"flex\" justify=\"center\">\n        <el-button round size=\"medium\" @click=\"submit\" type=\"primary\">{{constants.CONFIRM}}</el-button>\n        <el-button round size=\"medium\" @click=\"close\" class=\"btn-reset\">{{constants.CANCEL}}</el-button>\n      </el-row>\n    </div>\n  </el-dialog>\n</template>\n<script>\nimport {\n  ADD,\n  MODIFY,\n  CONFIRM,\n  CANCEL,\n  ENUM_PERFORMANCE_TYPE,\n  ENUM_PERFORMANCE_CONFIG_PROPERTY\n} from \"@/constants/TEXT\";\nimport { postTpl, putTpl, getTpl } from \"@/constants/API\";\n\nexport default {\n  props: {\n    visible: {\n      type: Boolean,\n      default: false\n    },\n    infoType: {\n      type: String,\n      default: \"add\"\n    },\n    initData: {\n      type: Object,\n      default: () => ({})\n    },\n    departmentsOps: {\n      type: Array,\n      default: () => []\n    }\n  },\n  data() {\n    return {\n      rules: {\n        name: [{ required: true, message: \"请输入名称\", trigger: \"blur\" }],\n        dp: [{ required: true, message: \"请选择事业部\", trigger: \"blur\" }],\n        types: [{ required: true, message: \"请选择绩效类型\", trigger: \"blur\" }]\n      },\n      property: [],\n      tplForm: { name: \"\", dp: \"\", types: \"\", property: [] },\n      constants: {\n        ADD,\n        MODIFY,\n        CONFIRM,\n        CANCEL,\n        ENUM_PERFORMANCE_TYPE,\n        ENUM_PERFORMANCE_CONFIG_PROPERTY\n      }\n    };\n  },\n  methods: {\n    close() {\n      this.$emit(\"close\");\n    },\n    submit() {\n      this.$refs[\"tplForm\"].validate(valid => {\n        if (valid) {\n          const postData = {\n            name: this.tplForm.name,\n            department_id: this.tplForm.dp,\n            type_id: this.tplForm.types,\n            template_columns: this.tplForm.property\n          };\n          if (this.infoType == \"add\") {\n            return postTpl(postData).then(res => {\n              this.close();\n            });\n          } else {\n            return putTpl(this.initData.id, postData).then(res => {\n              this.close();\n            });\n          }\n        }\n      });\n    }\n  },\n  beforeDestroy() {\n    this.$refs[\"tplForm\"].resetFields();\n  },\n  created() {\n    if (this.infoType != \"add\" && this.initData.id) {\n      getTpl(this.initData.id).then(res => {\n        const { name, department_id, type_id, template_columns } = res;\n        // console.log(template_columns)\n        this.tplForm = {\n          name,\n          dp: department_id,\n          types: type_id.toString(),\n          property: template_columns.map(v => String(v.id))\n        };\n      });\n    }\n  }\n};\n</script>\n<style scoped>\n.tplDialog .title {\n  text-align: center;\n  font-weight: 700;\n  font-size: 18px;\n}\n.tplDialog >>> .el-form-item {\n  margin-bottom: 22px;\n}\n.tplDialog >>> .el-checkbox-group,\n.tplDialog >>> .el-checkbox-group + .el-checkbox {\n  margin-left: -30px !important;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/performance/TplDialog/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{staticClass:\"tplDialog\",attrs:{\"width\":\"650px\",\"visible\":_vm.visible},on:{\"close\":_vm.close}},[_c('div',{staticClass:\"title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n    \"+_vm._s(_vm.infoType ==='add' ? _vm.constants.ADD: _vm.constants.MODIFY)+\"\\n  \")]),_c('el-form',{ref:\"tplForm\",staticClass:\"tplForm\",attrs:{\"rules\":_vm.rules,\"label-width\":\"100px\",\"model\":_vm.tplForm}},[_c('el-form-item',{attrs:{\"label\":\"名称\",\"prop\":\"name\"}},[_c('el-input',{staticStyle:{\"width\":\"400px\"},model:{value:(_vm.tplForm.name),callback:function ($$v) {_vm.$set(_vm.tplForm, \"name\", $$v)},expression:\"tplForm.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"事业部\",\"prop\":\"dp\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择事业部\"},model:{value:(_vm.tplForm.dp),callback:function ($$v) {_vm.$set(_vm.tplForm, \"dp\", $$v)},expression:\"tplForm.dp\"}},_vm._l((_vm.departmentsOps),function(item){return _c('el-option',{key:item.department_id,attrs:{\"label\":item.name,\"value\":item.department_id}})}))],1),_c('el-form-item',{attrs:{\"label\":\"绩效类型\",\"prop\":\"types\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择绩效类型 \"},model:{value:(_vm.tplForm.types),callback:function ($$v) {_vm.$set(_vm.tplForm, \"types\", $$v)},expression:\"tplForm.types\"}},_vm._l((_vm.constants.ENUM_PERFORMANCE_TYPE),function(v){return _c('el-option',{key:v.key,attrs:{\"label\":v.value,\"value\":v.key}})}))],1),_c('el-form-item',{attrs:{\"label\":\"模板字段\"}},[_c('el-checkbox-group',{model:{value:(_vm.tplForm.property),callback:function ($$v) {_vm.$set(_vm.tplForm, \"property\", $$v)},expression:\"tplForm.property\"}},_vm._l((_vm.constants.ENUM_PERFORMANCE_CONFIG_PROPERTY),function(v){return _c('el-checkbox',{key:v.key,attrs:{\"value\":v.value,\"label\":v.key,\"name\":\"property\"}},[_vm._v(_vm._s(v.value))])}))],1)],1),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-button',{attrs:{\"round\":\"\",\"size\":\"medium\",\"type\":\"primary\"},on:{\"click\":_vm.submit}},[_vm._v(_vm._s(_vm.constants.CONFIRM))]),_c('el-button',{staticClass:\"btn-reset\",attrs:{\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.close}},[_vm._v(_vm._s(_vm.constants.CANCEL))])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-41c9f156\",\"hasScoped\":true,\"optionsId\":\"0\",\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/performance/TplDialog/index.vue\n// module id = null\n// module chunks = ","function injectStyle (context) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":false,\\\"minimize\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-41c9f156\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\n/* script */\nexport * from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!cache-loader?{\\\"cacheDirectory\\\":\\\"/Users/vincent/Documents/Working/FE-PC-TDC/node_modules/.cache/cache-loader\\\"}!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-41c9f156\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-41c9f156\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/performance/TplDialog/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}