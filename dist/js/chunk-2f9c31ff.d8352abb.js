(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f9c31ff"],{"11e9":function(t,e,r){var a=r("52a7"),n=r("4630"),s=r("6821"),o=r("6a99"),l=r("69a8"),i=r("c69a"),c=Object.getOwnPropertyDescriptor;e.f=r("9e1e")?c:function(t,e){if(t=s(t),e=o(e,!0),i)try{return c(t,e)}catch(r){}if(l(t,e))return n(!a.f.call(t,e),t[e])}},"2a9e":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("section",{staticClass:"progress-header"},[r("el-row",{attrs:{type:"flex",gutter:20,align:"top"}},[r("el-col",{staticStyle:{"border-right":"solid 1px rgba(233,235,242,1)","min-height":"400px"},attrs:{span:4}},t._l(t.level_team_list,function(e,a){return r("el-radio",{key:a,staticClass:"check_tag",attrs:{label:e.superior_workcode},model:{value:t.level_team_id,callback:function(e){t.level_team_id=e},expression:"level_team_id"}},[t._v("\n          "+t._s(e.superior_name)+"\n          "),e.abnormal_status?r("span",{staticClass:"Badge_logo"}):t._e()])}),1),r("el-col",{staticStyle:{"min-height":"400px"},attrs:{span:20}},[r("el-row",{staticClass:"progress-header",staticStyle:{display:"flex","align-items":"center"}},[r("el-col",{attrs:{span:18}},[r("span",{staticClass:"color_gray"},[t._v(t._s(t.team_name)+": ")]),r("span",{staticClass:"total"},[t._v("共"+t._s(t.total)+"人")]),1==t.submit_yes||1==t.reject_yes?r("span",{staticClass:"overview_text"},[r("span",{staticClass:"total"},[t._v(", ")]),t._v(" "+t._s(t.team_overview_text))]):t._e(),1==t.submit_yes||1==t.reject_yes?r("el-popover",{attrs:{placement:"bottom",width:"688",trigger:"click"}},[r("p",[t._v("提交记录")]),[r("el-table",{attrs:{data:t.team_reviewData,height:"250"}},[r("el-table-column",{attrs:{width:"188",property:"created_at",label:"提交时间"}}),r("el-table-column",{attrs:{width:"50",property:"type_text",label:"操作"}}),r("el-table-column",{attrs:{width:"120",label:"是否符合分布"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.type?r("span",[t._v(t._s(1==e.row.is_pass?"符合分布":"不符合分布"))]):t._e()]}}],null,!1,1319325565)}),r("el-table-column",{attrs:{width:"280",property:"content",label:"理由"}}),r("el-table-column",{attrs:{width:"100",property:"name",label:"提交人"}})],1)],r("el-button",{staticClass:"show_relect_overview",attrs:{slot:"reference",size:"medium"},on:{click:function(e){return t.team_submit_overview()}},slot:"reference"},[t._v("查看审批记录")])],2):t._e()],1),r("el-col",{attrs:{align:"right",span:6}},[1==t.is_reject?r("el-button",{attrs:{size:"medium",type:"warning"},on:{click:function(e){t.reject_team_show=!0}}},[t._v(t._s(t.reject_team_title)+"\n            ")]):t._e(),1==t.reject_yes?r("span",{staticClass:"overview_text"},[t._v("已驳回")]):t._e()],1)],1),r("el-dialog",{attrs:{title:t.reject_team_title,visible:t.reject_team_show,width:"30%"},on:{"update:visible":function(e){t.reject_team_show=e}}},[r("el-input",{attrs:{type:"textarea",placeholder:"请输入驳回理由",rows:"5",autofocus:"true"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.reject_team_show=!1}}},[t._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.reject_send()}}},[t._v("确 定")])],1)],1),r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list_data,stripe:"","header-cell-style":{background:"#eef1f6"}}},[r("el-table-column",{attrs:{prop:"workcode",label:"工号"}}),r("el-table-column",{attrs:{prop:"name",label:t.constants.LABEL_NAME},scopedSlots:t._u([{key:"default",fn:function(e){return[r("el-row",{attrs:{type:"flex",align:"middle"}},[r("span",[t._v(t._s(e.row.name))]),e.row.has_appeal?r("span",{staticClass:"appeal-tag"},[t._v("\n                  "+t._s(t.constants.APPEAL)+"\n                ")]):t._e()])]}}])}),r("el-table-column",{attrs:{prop:"hr_name",label:"HRBP"}}),r("el-table-column",{attrs:{prop:"superior_name",label:"上级"}}),r("el-table-column",{attrs:{prop:"high_level_name",label:"隔级"}}),r("el-table-column",{attrs:{prop:"self_score",label:"自评分"}}),r("el-table-column",{attrs:{prop:"superior_score",label:"上级评分"}}),r("el-table-column",{attrs:{prop:"score_level",label:"绩效等级"}}),r("el-table-column",{attrs:{label:"标签分布",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return["A"==e.row.score_level||"S"==e.row.score_level?r("el-tag",{staticClass:"status-tag top-style"},[r("span",{staticClass:"top-style-text"},[t._v(t._s(e.row.label_name))])]):t._e(),"B"==e.row.score_level?r("el-tag",{staticClass:"status-tag bplus-style"},[r("span",{staticClass:"bplus-style-text"},[t._v(t._s(e.row.label_name))])]):t._e(),"C"==e.row.score_level||"D"==e.row.score_level?r("el-tag",{staticClass:"status-tag other-style"},[r("span",{staticClass:"other-style-text"},[t._v(t._s(e.row.label_name))])]):t._e()]}}])}),r("el-table-column",{attrs:{prop:"stage_status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("\n                "+t._s(t.get_stage_status(e.row.stage))+"\n              ")])]}}])}),r("el-table-column",{attrs:{prop:"ops",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.operate_status?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.goDetail(e.row)}}},[t._v("详情")]):t._e(),2==e.row.operate_status?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.goDetail(e.row)}}},[t._v("评分")]):t._e(),3==e.row.operate_status?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.goDetail(e.row)}}},[t._v("修改评分")]):t._e(),4==e.row.operate_status?r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return t.goDetail(e.row)}}},[t._v("处理申诉")]):t._e()]}}])})],1)],1)],1)],1)])},n=[],s=(r("c5f6"),r("38fb")),o=r("c9f1"),l=r("fea5"),i={props:{list_data:{type:null,default:function(){return[]}},department_id:{type:String,default:""},total:{type:[String,Number],default:""},team_overview:{type:null,default:function(){return[]}}},data:function(){return{constants:{LABEL_NAME:s["Hc"],APPEAL:s["i"],ENUM_PERFORMANCE_FINISH:s["Cb"]},level_team_list:[],level_team_id:null,team_name:"全部下属",submit_yes:0,is_reject:0,reject_yes:0,team_reviewData:[],reject_team_show:!1,content:""}},components:{},created:function(){this.get_highLevelTeamList()},methods:{get_highLevelTeamList:function(){var t=this;return Object(l["ac"])(this.department_id).then(function(e){e.highLevelList.unshift({abnormal_status:0,is_reject:0,submit_yes:0,reject_yes:0,superior_team:1,superior_name:"全部下属",superior_workcode:null}),e.highLevelList.map(function(t,e){0==t.superior_team&&(t.superior_name=t.superior_name+"团队")}),t.level_team_list=e.highLevelList}).catch(function(t){})},team_submit_overview:function(){var t=this;return Object(l["bc"])(this.department_id,{workcode:this.level_team_id}).then(function(e){t.team_reviewData=e}).catch(function(t){})},reject_send:function(){var t=this,e={content:this.content};return this.reject_team_show=!1,Object(l["ed"])(this.$route.params.id,this.level_team_id,e).then(function(e){t.$emit("reload")}).catch(function(t){})},goDetail:function(t){1==t.is_directly?this.$router.push(Object(o["yb"])(this.$route.params.id,t.performance_id,t.id)):this.$router.push(Object(o["p"])(this.$route.params.id,t.performance_id,t.id))},get_stage_status:function(t){var e=this.constants.ENUM_PERFORMANCE_FINISH.filter(function(e){return e.key==t})[0].value;return e}},computed:{team_overview_text:function(){return this.team_overview.join(",")},reject_team_title:function(){return"驳回"+this.team_name}},watch:{level_team_id:function(t,e){this.$emit("get_workcode",t),this.team_name=this.level_team_list.filter(function(e){return t==e.superior_workcode}).map(function(t){return t.superior_name}).join(","),this.is_reject=this.level_team_list.filter(function(e){return t==e.superior_workcode}).map(function(t){return t.is_reject}).join(","),this.reject_yes=this.level_team_list.filter(function(e){return t==e.superior_workcode}).map(function(t){return t.reject_yes}).join(","),this.submit_yes=this.level_team_list.filter(function(e){return t==e.superior_workcode}).map(function(t){return t.submit_yes}).join(",")}}},c=i,u=(r("f065"),r("2877")),_=Object(u["a"])(c,a,n,!1,null,"96a10cfe",null);e["default"]=_.exports},"5dbc":function(t,e,r){var a=r("d3f4"),n=r("8b97").set;t.exports=function(t,e,r){var s,o=e.constructor;return o!==r&&"function"==typeof o&&(s=o.prototype)!==r.prototype&&a(s)&&n&&n(t,s),t}},"8b97":function(t,e,r){var a=r("d3f4"),n=r("cb7c"),s=function(t,e){if(n(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=r("9b43")(Function.call,r("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(n){e=!0}return function(t,r){return s(t,r),e?t.__proto__=r:a(t,r),t}}({},!1):void 0),check:s}},9093:function(t,e,r){var a=r("ce10"),n=r("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},aa77:function(t,e,r){var a=r("5ca1"),n=r("be13"),s=r("79e5"),o=r("fdef"),l="["+o+"]",i="​",c=RegExp("^"+l+l+"*"),u=RegExp(l+l+"*$"),_=function(t,e,r){var n={},l=s(function(){return!!o[t]()||i[t]()!=i}),c=n[t]=l?e(p):o[t];r&&(n[r]=c),a(a.P+a.F*l,"String",n)},p=_.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(u,"")),t};t.exports=_},c5f6:function(t,e,r){"use strict";var a=r("7726"),n=r("69a8"),s=r("2d95"),o=r("5dbc"),l=r("6a99"),i=r("79e5"),c=r("9093").f,u=r("11e9").f,_=r("86cc").f,p=r("aa77").trim,f="Number",m=a[f],d=m,h=m.prototype,v=s(r("2aeb")(h))==f,b="trim"in String.prototype,w=function(t){var e=l(t,!1);if("string"==typeof e&&e.length>2){e=b?e.trim():p(e,3);var r,a,n,s=e.charCodeAt(0);if(43===s||45===s){if(r=e.charCodeAt(2),88===r||120===r)return NaN}else if(48===s){switch(e.charCodeAt(1)){case 66:case 98:a=2,n=49;break;case 79:case 111:a=8,n=55;break;default:return+e}for(var o,i=e.slice(2),c=0,u=i.length;c<u;c++)if(o=i.charCodeAt(c),o<48||o>n)return NaN;return parseInt(i,a)}}return+e};if(!m(" 0o1")||!m("0b1")||m("+0x1")){m=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof m&&(v?i(function(){h.valueOf.call(r)}):s(r)!=f)?o(new d(w(e)),r,m):w(e)};for(var y,g=r("9e1e")?c(d):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),j=0;g.length>j;j++)n(d,y=g[j])&&!n(m,y)&&_(m,y,u(d,y));m.prototype=h,h.constructor=m,r("2aba")(a,f,m)}},f065:function(t,e,r){"use strict";var a=r("f6e4"),n=r.n(a);n.a},f6e4:function(t,e,r){},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);