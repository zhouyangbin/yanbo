(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fa8e2a0"],{"08ba":function(t,e,r){"use strict";r.r(e);var l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{staticClass:"tplDialog",attrs:{width:"9.75rem",visible:t.visible},on:{close:t.close}},[r("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s("add"===t.infoType?t.constants.ADD:t.constants.MODIFY))]),r("el-form",{ref:"tplForm",staticClass:"tplForm",attrs:{rules:t.rules,"label-width":"1.5rem",model:t.tplForm}},[r("el-form-item",{attrs:{label:"名称",prop:"name"}},[r("el-input",{staticStyle:{width:"6rem"},model:{value:t.tplForm.name,callback:function(e){t.$set(t.tplForm,"name",e)},expression:"tplForm.name"}})],1),r("el-form-item",{attrs:{label:"事业部",prop:"dp"}},[r("el-select",{attrs:{placeholder:"请选择事业部"},model:{value:t.tplForm.dp,callback:function(e){t.$set(t.tplForm,"dp",e)},expression:"tplForm.dp"}},t._l(t.departmentsOps,function(t){return r("el-option",{key:t.department_id,attrs:{label:t.name,value:t.department_id}})}))],1),r("el-form-item",{attrs:{label:"绩效类型",prop:"types"}},[r("el-select",{attrs:{placeholder:"请选择绩效类型 "},model:{value:t.tplForm.types,callback:function(e){t.$set(t.tplForm,"types",e)},expression:"tplForm.types"}},t._l(t.constants.ENUM_PERFORMANCE_TYPE,function(t){return r("el-option",{key:t.key,attrs:{label:t.value,value:t.key}})}))],1),r("el-form-item",{attrs:{label:"模板字段"}},[r("el-checkbox-group",{model:{value:t.tplForm.property,callback:function(e){t.$set(t.tplForm,"property",e)},expression:"tplForm.property"}},t._l(t.constants.ENUM_PERFORMANCE_CONFIG_PROPERTY,function(e){return r("el-checkbox",{key:e.key,attrs:{value:e.value,label:e.key,name:"property"}},[t._v(t._s(e.value))])}))],1)],1),r("div",{attrs:{slot:"footer"},slot:"footer"},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:t.submit}},[t._v(t._s(t.constants.CONFIRM))]),r("el-button",{staticClass:"btn-reset",attrs:{round:"",size:"medium"},on:{click:t.close}},[t._v(t._s(t.constants.CANCEL))])],1)],1)],1)},o=[],n=(r("6b54"),r("7f7f"),r("38fb")),s=r("fea5"),a={props:{visible:{type:Boolean,default:!1},infoType:{type:String,default:"add"},initData:{type:Object,default:function(){return{}}},departmentsOps:{type:Array,default:function(){return[]}}},data:function(){return{rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],dp:[{required:!0,message:"请选择事业部",trigger:"blur"}],types:[{required:!0,message:"请选择绩效类型",trigger:"blur"}]},property:[],tplForm:{name:"",dp:"",types:"",property:[]},constants:{ADD:n["c"],MODIFY:n["Nc"],CONFIRM:n["z"],CANCEL:n["u"],ENUM_PERFORMANCE_TYPE:n["ob"],ENUM_PERFORMANCE_CONFIG_PROPERTY:n["mb"]}}},methods:{close:function(){this.$emit("close")},submit:function(){var t=this;this.$refs["tplForm"].validate(function(e){if(e){var r={name:t.tplForm.name,department_id:t.tplForm.dp,type_id:t.tplForm.types,template_columns:t.tplForm.property};return"add"==t.infoType?Object(s["Cb"])(r).then(function(e){t.close()}):Object(s["Hb"])(t.initData.id,r).then(function(e){t.close()})}})}},beforeDestroy:function(){this.$refs["tplForm"].resetFields()},created:function(){var t=this;"add"!=this.infoType&&this.initData.id&&Object(s["Y"])(this.initData.id).then(function(e){var r=e.name,l=e.department_id,o=e.type_id,n=e.template_columns;t.tplForm={name:r,dp:l,types:o.toString(),property:n.map(function(t){return String(t.id)})}})}},i=a,p=(r("c998"),r("2877")),c=Object(p["a"])(i,l,o,!1,null,"e81bc2e2",null);c.options.__file="index.vue";e["default"]=c.exports},c998:function(t,e,r){"use strict";var l=r("e3b9"),o=r.n(l);o.a},e3b9:function(t,e,r){}}]);