(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ebce5c5c"],{"818d":function(e,r,o){},"94a0":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-dialog",{staticClass:"modify-user",attrs:{"close-on-click-modal":!1,width:"650px",visible:e.visible},on:{close:e.close}},[o("div",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[e._v("\n    "+e._s("add"===e.userType?"添加人员":"修改人员")+"\n  ")]),o("el-form",{ref:"userForm",staticClass:"user-form",attrs:{rules:e.userRules,"label-width":"110px",model:e.userForm}},[o("el-form-item",{attrs:{label:"姓名/工号:",prop:"workcode"}},[o("el-select",{attrs:{filterable:"",remote:"",clearable:"","reserve-keyword":"",placeholder:"请输入姓名或工号","remote-method":e.searchME,disabled:"add"!==e.userType,loading:e.loading},model:{value:e.userForm.workcode,callback:function(r){e.$set(e.userForm,"workcode",r)},expression:"userForm.workcode"}},e._l(e.userOptions,function(e){return o("el-option",{key:e.workcode,attrs:{label:e.workcode+e.name+e.email,value:e.workcode}})}),1)],1),o("el-form-item",{attrs:{label:"邮箱:",prop:"email"}},[o("el-input",{attrs:{disabled:"add"!==e.userType},model:{value:e.userForm.email,callback:function(r){e.$set(e.userForm,"email",r)},expression:"userForm.email"}})],1),o("el-form-item",{attrs:{label:"直接上级:",prop:"superior_workcode"}},[o("el-input",{model:{value:e.userForm.superior_workcode,callback:function(r){e.$set(e.userForm,"superior_workcode",r)},expression:"userForm.superior_workcode"}})],1),o("el-form-item",{attrs:{label:"隔级:",prop:"isolation_workcode"}},[o("el-input",{model:{value:e.userForm.isolation_workcode,callback:function(r){e.$set(e.userForm,"isolation_workcode",r)},expression:"userForm.isolation_workcode"}})],1),o("el-form-item",{attrs:{label:"总裁:",prop:"president_workcode"}},[o("el-input",{model:{value:e.userForm.president_workcode,callback:function(r){e.$set(e.userForm,"president_workcode",r)},expression:"userForm.president_workcode"}})],1),o("el-form-item",{attrs:{label:"HRBP:",prop:"hrbp_workcode"}},[o("el-input",{model:{value:e.userForm.hrbp_workcode,callback:function(r){e.$set(e.userForm,"hrbp_workcode",r)},expression:"userForm.hrbp_workcode"}})],1),o("el-form-item",{attrs:{label:"HRD:",prop:"hrd_workcode"}},[o("el-input",{model:{value:e.userForm.hrd_workcode,callback:function(r){e.$set(e.userForm,"hrd_workcode",r)},expression:"userForm.hrd_workcode"}})],1),o("el-form-item",{attrs:{label:"高管类别:",prop:"executive_type"}},[o("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.userForm.executive_type,callback:function(r){e.$set(e.userForm,"executive_type",r)},expression:"userForm.executive_type"}},e._l(e.executiveTypes,function(e){return o("el-option",{key:e.key,attrs:{label:e.name,value:e.key}})}),1)],1),o("el-form-item",{attrs:{label:"上传指标:"}},[o("el-upload",{staticClass:"upload-demo",attrs:{action:e.constants.postUploadFinancialIndicators(this.$route.params.id),uploadSuccess:e.uploadSuccess}},[o("el-button",{attrs:{size:"small",type:"primary"}},[e._v("选择文件")])],1)],1),o("el-form-item",{attrs:{label:"提示信息:"}},[o("span",{staticClass:"tip-info"},[e._v("上传成功！共1人。")])])],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("el-row",{attrs:{type:"flex",justify:"center"}},[o("el-button",{attrs:{round:"",size:"medium",type:"primary"},on:{click:function(r){return e.submit("userForm")}}},[e._v("确定")]),o("el-button",{attrs:{round:"",size:"medium"},on:{click:e.close}},[e._v("取消")])],1)],1)],1)},s=[],i=(o("38fb"),o("fea5")),l=o("c9f1"),a=(o("372d"),{props:{visible:{type:Boolean,default:!1},userType:{type:String,default:"add"},userId:{type:String,default:""},performanceId:{type:String,default:""},executiveTypes:{type:Array,default:function(){return[]}},userInfo:{type:Object,default:function(){return{}}}},data:function(){return{constants:{postUploadFinancialIndicators:l["hb"]},userForm:{workcode:"",email:"",superior_workcode:"",isolation_workcode:"",president_workcode:"",hrbp_workcode:"",hrd_workcode:"",executive_type:""},userRules:{workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],email:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],superior_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],isolation_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],president_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],hrbp_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],hrd_workcode:[{required:!0,message:"请输入姓名或工号",trigger:"blur"}],executive_type:[{required:!0,message:"请输入姓名或工号",trigger:"change"}]},userOptions:[],loading:!1}},methods:{searchME:function(e){var r=this;""!==e?(this.loading=!0,Object(i["nb"])({name_or_workcode:e}).then(function(e){r.loading=!1,r.userOptions=e}).catch(function(e){})):this.userOptions=[]},close:function(){this.$emit("close")},submit:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return!1;"add"!=r.userType?Object(i["qc"])(r.performanceId,r.userId,r.userForm).then(function(e){console.log(e)}).catch(function(e){}):Object(i["Jb"])(r.performanceId,r.userForm).then(function(e){console.log(e)}).catch(function(e){})})},uploadSuccess:function(e,r,o){e&&e.data&&e.data.errors&&e.data.errors.length>0?(this.tableData=e.data.errors.slice(),this.$notify.error({title:ERROR,message:"上传内容有部分错误!"})):(this.tableData=[],this.$notify({title:SUCCESS,message:UPLOAD_SUCCESS,type:"success"}),this.close())}},beforeDestroy:function(){this.$refs["userForm"].resetFields()},created:function(){this.userType}}),c=a,u=(o("e7cc"),o("2877")),n=Object(u["a"])(c,t,s,!1,null,"30c8d4e7",null);r["default"]=n.exports},e7cc:function(e,r,o){"use strict";var t=o("818d"),s=o.n(t);s.a}}]);