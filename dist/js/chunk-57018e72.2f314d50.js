(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-57018e72"],{2375:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("nav-bar",{attrs:{list:e.nav}}),a("section",{staticClass:"content-container"},[a("section",[a("el-form",{ref:"conditionForm",attrs:{inline:!0,model:e.conditionForm}},[a("el-form-item",[a("el-select",{attrs:{placeholder:e.constants.LABEL_SELECT_GRAGE},on:{change:e.changeName},model:{value:e.conditionForm.evaluation_name_id,callback:function(t){e.$set(e.conditionForm,"evaluation_name_id",t)},expression:"conditionForm.evaluation_name_id"}},e._l(e.names,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),a("el-form-item",[a("el-select",{attrs:{placeholder:e.constants.LABEL_SELECT_DEPARTMENT},on:{change:e.changeDepartment},model:{value:e.evaluation_id,callback:function(t){e.evaluation_id=t},expression:"evaluation_id"}},e._l(e.departments,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e}})}))],1)],1)],1),a("section",{staticClass:"report-echart"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("h1",[a("span",[e._v(e._s(e.currentDepartment))]),e._v(e._s(e.constants.LABEL_REPORT_PROGRESS))]),a("el-row",[a("el-col",{staticClass:"loading-container",attrs:{span:12}},[a("echart-pie",{attrs:{title:e.constants.LABEL_SELF_PROGRESS,data:e.progressPieSelf,width:e.width}})],1),a("el-col",{staticClass:"loading-container",attrs:{span:12}},[a("echart-pie",{attrs:{title:e.constants.LABEL_SUP_PROGRESS,data:e.progressPieSuperior,width:e.width}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("h1",[a("span",[e._v(e._s(e.currentDepartment))]),e._v(e._s(e.constants.LABEL_REPORT_AVERAGE))])]),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("span",{staticStyle:{color:"#21c1a5"}},[e._v("● "+e._s(e.constants.LABEL_SELF)+"   ")]),a("span",{staticStyle:{color:"#5399e1"}},[e._v("● "+e._s(e.constants.LABEL_SUP))])])],1)],1),a("section",{staticClass:"loading-container"},[a("echart-bar-average-single",{attrs:{selfRates:e.selfRates,supRates:e.supRates,width:e.width,id:"echart-bar1"}})],1)],1)],1)],1),3!=e.department_level?a("section",{staticClass:"report-echart"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("h1",[e._v(e._s(e.constants.LABEL_REPORT_RATE))])]),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-tabs",{staticClass:"echart-tabs",attrs:{type:"card"},on:{"tab-click":e.changeBarRate},model:{value:e.rateBarActive,callback:function(t){e.rateBarActive=t},expression:"rateBarActive"}},[a("el-tab-pane",{attrs:{label:e.constants.LABEL_SELF,name:"self"}}),a("el-tab-pane",{attrs:{label:e.constants.LABEL_SUP,name:"sup"}})],1)],1)],1)],1),a("section",{staticClass:"loading-container"},[a("echart-bar-rate",{attrs:{rateBar:e.rateBar,completionBuNams:e.completionBuNams,width:e.width}})],1)],1):e._e(),1==e.department_level?a("section",{staticClass:"report-echart"},[a("h1",[e._v(e._s(e.constants.LABEL_REPORT_AVERAGE_ALL))]),a("section",{staticClass:"loading-container"},[a("echart-bar-average-all",{attrs:{selfAverage:e.selfAverageAll,supAverage:e.supAverageAll,departmentsAverage:e.departmentsAverageAll,yMin:e.yMinAll,yMax:e.yMaxAll,yInterval:e.yIntervalAll,width:e.width}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("span",{staticClass:"color-mark"},[a("span",{staticStyle:{color:"#21c1a5"}},[e._v("● "+e._s(e.constants.LABEL_SELF)+"   ")]),a("span",{staticStyle:{color:"#5399e1"}},[e._v("● "+e._s(e.constants.LABEL_SUP))])])])],1):e._e(),1==e.department_level?a("section",{staticClass:"report-echart"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("h1",[e._v(e._s(e.constants.LABEL_REPORT_AVERAGE_SINGLE))])]),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-tabs",{staticClass:"echart-tabs",attrs:{type:"card"},on:{"tab-click":e.changeBarAverage},model:{value:e.averageBarActive,callback:function(t){e.averageBarActive=t},expression:"averageBarActive"}},e._l(e.activeTabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}))],1)],1)],1),a("section",{staticClass:"loading-container"},[a("echart-bar-average-all",{attrs:{selfAverage:e.selfAverageEach,supAverage:e.supAverageEach,departmentsAverage:e.departmentsAverageEach,yMin:e.yMinEach,yMax:e.yMaxEach,yInterval:e.yIntervalEach,width:e.width}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("span",{staticClass:"color-mark"},[a("span",{staticStyle:{color:"#21c1a5"}},[e._v("● "+e._s(e.constants.LABEL_SELF)+"   ")]),a("span",{staticStyle:{color:"#5399e1"}},[e._v("● "+e._s(e.constants.LABEL_SUP))])])])],1):e._e(),1==e.department_level?a("section",{staticClass:"report-echart"},[a("el-row",{attrs:{type:"flex",justify:"space-between"}},[a("el-col",{attrs:{span:12}},[a("h1",[e._v(e._s(e.constants.LABEL_REPORT_NUMBER))])]),a("el-col",{attrs:{span:12}},[a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-tabs",{staticClass:"echart-tabs",attrs:{type:"card"},on:{"tab-click":e.changeLineNumbers},model:{value:e.numberLineActive,callback:function(t){e.numberLineActive=t},expression:"numberLineActive"}},e._l(e.activeTabs,function(e){return a("el-tab-pane",{key:e.name,attrs:{label:e.label,name:e.name}})}))],1)],1)],1),a("el-row",[a("el-col",{attrs:{span:12}},[a("section",{staticClass:"loading-container"},[a("echart-line-number",{attrs:{numbers:e.selfNumbers,color:e.selfLineColor,width:e.width}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("span",{staticClass:"color-mark"},[a("span",{staticStyle:{color:"#21c1a5"}},[e._v("● "+e._s(e.constants.LABEL_SELF))])])])],1),a("el-col",{attrs:{span:12}},[a("section",{staticClass:"loading-container"},[a("echart-line-number",{attrs:{isSelf:!1,numbers:e.supNumbers,color:e.supLineColor,width:e.width}})],1),a("el-row",{attrs:{type:"flex",justify:"center"}},[a("span",{staticClass:"color-mark"},[a("span",{staticStyle:{color:"#5399e1"}},[e._v("● "+e._s(e.constants.LABEL_SUP))])])])],1)],1)],1):e._e()])],1)},n=[],r=(a("7f7f"),a("8afe")),c=(a("ac6a"),a("8615"),a("f751"),a("cadf"),a("551c"),a("097d"),a("38fb")),l=a("fea5"),i=a("dedd"),o=a("372d"),u={components:{"nav-bar":function(){return a.e("chunk-5a85c387").then(a.bind(null,"3208"))},"echart-pie":Object(o["a"])(Promise.all([a.e("chunk-42ef8f05"),a.e("chunk-6bdb3dca"),a.e("chunk-811fa88e")]).then(a.bind(null,"f889"))),"echart-bar-average-single":Object(o["a"])(Promise.all([a.e("chunk-42ef8f05"),a.e("chunk-7b397eba"),a.e("chunk-ca934466")]).then(a.bind(null,"a8b2"))),"echart-bar-rate":Object(o["a"])(Promise.all([a.e("chunk-42ef8f05"),a.e("chunk-7b397eba"),a.e("chunk-7c382e97"),a.e("chunk-1c175d40")]).then(a.bind(null,"a2f4"))),"echart-bar-average-all":Object(o["a"])(Promise.all([a.e("chunk-42ef8f05"),a.e("chunk-7b397eba"),a.e("chunk-7c382e97"),a.e("chunk-17e73b69")]).then(a.bind(null,"16a4"))),"echart-line-number":Object(o["a"])(Promise.all([a.e("chunk-42ef8f05"),a.e("chunk-7b397eba"),a.e("chunk-3e2445a9")]).then(a.bind(null,"4702")))},data:function(){return{department_level:"",nav:[{label:c["Eb"],active:!0}],constants:{LABEL_REPORT_PROGRESS:c["ic"],LABEL_REPORT_AVERAGE:c["ec"],LABEL_REPORT_RATE:c["jc"],LABEL_REPORT_AVERAGE_ALL:c["fc"],LABEL_REPORT_AVERAGE_SINGLE:c["gc"],LABEL_REPORT_NUMBER:c["hc"],LABEL_SELF:c["oc"],LABEL_SUP:c["rc"],LABEL_SELF_PROGRESS:c["pc"],LABEL_SUP_PROGRESS:c["sc"],LABEL_SELECT_DEPARTMENT:c["lc"],LABEL_SELECT_GRAGE:c["nc"]},permissions:[],conditionForm:{evaluation_name_id:"",evaluation_id:""},names:[],departments:[],currentDepartment:"",evaluationId:{},progressPieSelf:[{value:0,name:""},{value:0,name:""}],progressPieSuperior:[{value:0,name:""},{value:0,name:""}],selfRates:[],supRates:[],selfRateBar:[],superiorRateBar:[],rateBar:[],completionBuNams:[],rateBarActive:"self",selfAverageAll:[],supAverageAll:[],departmentsAverageAll:[],yMinAll:0,yMaxAll:20,yIntervalAll:4,selfAverageA:[],selfAverageB:[],selfAverageC:[],selfAverageD:[],selfAverageEach:[],supAverageA:[],supAverageB:[],supAverageC:[],supAverageD:[],supAverageEach:[],departmentsAverageEach:[],yMinEach:0,yMaxEach:5,yIntervalEach:1,activeTabs:[{label:c["ad"],name:"first"},{label:c["cd"],name:"second"},{label:c["bd"],name:"third"},{label:c["Zc"],name:"fourth"}],averageBarActive:"first",selfNumbersA:[],selfNumbersB:[],selfNumbersC:[],selfNumbersD:[],selfNumbers:[],selfLineColor:"#3ed6bf",supNumbersA:[],supNumbersB:[],supNumbersC:[],supNumbersD:[],supNumbers:[],supLineColor:"#5399e1",numberLineActive:"first",width:0}},computed:{evaluation_id:{get:function(){return this.evaluationId},set:function(e){this.evaluationId=e,this.conditionForm=Object.assign({},this.conditionForm,{evaluation_id:e.value})}}},created:function(){this.permissions=JSON.parse(localStorage.getItem("permissions")||"[]"),this.getGrades()},mounted:function(){this.resize()},methods:{resize:function(){var e=this;window.onresize=function(){e.width=document.body.clientWidth}},getGrades:function(){var e=this;Object(l["q"])().then(function(t){t.evaluations.map(function(e){e.label=e.evaluation_name,e.value=e.id}),e.names=t.evaluations,e.conditionForm=Object.assign({},e.conditionForm,{evaluation_name_id:t.evaluations[0].value}),e.getDepartments(t.evaluations[0].id)}).catch(function(e){})},getDepartments:function(e){var t=this;return Object(l["o"])(e).then(function(e){e.map(function(e){e.label=e.department_name,e.value=e.id}),t.departments=e,t.conditionForm=Object.assign({},t.conditionForm,{evaluation_id:e[0].value}),t.evaluationId=e[0],t.currentDepartment=e[0].label,t.getReports()}).catch(function(e){})},getReports:function(){var e=this;Object(l["r"])(Object(i["a"])(this.conditionForm)).then(function(t){e.progressPieSelf=[{value:t.process.self,name:"已完成"+t.process.self+"人"},{value:t.process.count-t.process.self,name:"未完成"+(t.process.count-t.process.self)+"人"}],e.progressPieSuperior=[{value:t.process.superior,name:"已完成"+t.process.superior+"人"},{value:t.process.count-t.process.superior,name:"未完成"+(t.process.count-t.process.superior)+"人"}],e.selfRates=Object.values(t.avg.self),e.supRates=Object.values(t.avg.superior),e.selfRateBar=[],e.superiorRateBar=[],e.completionBuNams=[],t.finish.forEach(function(t){e.selfRateBar.push(t.count?t.self_status/t.count:0),e.superiorRateBar.push(t.count?t.superior_status/t.count:0),e.completionBuNams.push(t.department_name)}),e.rateBarActive="self",e.rateBar=Object(r["a"])(e.selfRateBar);var a=[],s=[],n=[];t.total.self.forEach(function(e){a.push(e.score),n.push(e.department_name)}),t.total.superior.forEach(function(e){s.push(e.score)}),e.selfAverageAll=a,e.supAverageAll=s,e.departmentsAverageAll=n;var c=[];e.selfAverageA=[],e.selfAverageB=[],e.selfAverageC=[],e.selfAverageD=[],t.question.self.forEach(function(t){e.selfAverageA.push(t.a),e.selfAverageB.push(t.b),e.selfAverageC.push(t.c),e.selfAverageD.push(t.d),c.push(t.department_name)}),e.supAverageA=[],e.supAverageB=[],e.supAverageC=[],e.supAverageD=[],t.question.superior.forEach(function(t){e.supAverageA.push(t.a),e.supAverageB.push(t.b),e.supAverageC.push(t.c),e.supAverageD.push(t.d)}),e.selfAverageEach=Object(r["a"])(e.selfAverageA),e.supAverageEach=Object(r["a"])(e.supAverageA),e.departmentsAverageEach=c,e.averageBarActive="first",t.number.self.forEach(function(t,a){0==a?e.selfNumbersA=Object.values(t):1==a?e.selfNumbersB=Object.values(t):2==a?e.selfNumbersC=Object.values(t):3==a&&(e.selfNumbersD=Object.values(t))}),t.number.superior.forEach(function(t,a){0==a?e.supNumbersA=Object.values(t):1==a?e.supNumbersB=Object.values(t):2==a?e.supNumbersC=Object.values(t):3==a&&(e.supNumbersD=Object.values(t))}),e.selfNumbers=Object(r["a"])(e.selfNumbersA),e.supNumbers=Object(r["a"])(e.supNumbersA),e.numberLineActive="first",e.department_level=t.department_level}).catch(function(e){})},changeName:function(e){this.getDepartments(e)},changeDepartment:function(e){this.conditionForm=Object.assign({},this.conditionForm,{evaluation_id:e.value}),this.currentDepartment=e.label,this.getReports()},changeBarRate:function(e){"self"==e.name?this.rateBar=this.selfRateBar.concat():this.rateBar=this.superiorRateBar.concat()},changeBarAverage:function(e){"first"==e.name?(this.selfAverageEach=Object(r["a"])(this.selfAverageA),this.supAverageEach=Object(r["a"])(this.supAverageA)):"second"==e.name?(this.selfAverageEach=Object(r["a"])(this.selfAverageB),this.supAverageEach=Object(r["a"])(this.supAverageB)):"third"==e.name?(this.selfAverageEach=Object(r["a"])(this.selfAverageC),this.supAverageEach=Object(r["a"])(this.supAverageC)):"fourth"==e.name&&(this.selfAverageEach=Object(r["a"])(this.selfAverageD),this.supAverageEach=Object(r["a"])(this.supAverageD))},changeLineNumbers:function(e){"first"==e.name?(this.selfNumbers=Object(r["a"])(this.selfNumbersA),this.supNumbers=Object(r["a"])(this.supNumbersA)):"second"==e.name?(this.selfNumbers=Object(r["a"])(this.selfNumbersB),this.supNumbers=Object(r["a"])(this.supNumbersB)):"third"==e.name?(this.selfNumbers=Object(r["a"])(this.selfNumbersC),this.supNumbers=Object(r["a"])(this.supNumbersC)):"fourth"==e.name&&(this.selfNumbers=Object(r["a"])(this.selfNumbersD),this.supNumbers=Object(r["a"])(this.supNumbersD))}}},f=u,p=(a("e046"),a("2877")),v=Object(p["a"])(f,s,n,!1,null,"ca462b82",null);v.options.__file="index.vue";t["default"]=v.exports},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"372d":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{directives:[{name:"loading",rawName:"v-loading.lock",value:!0,expression:"true",modifiers:{lock:!0}}],staticClass:"my-loading",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}})},n=[],r={},c=r,l=(a("f794"),a("2877")),i=Object(l["a"])(c,s,n,!1,null,"25912e28",null);i.options.__file="index.vue";var o=i.exports;a.d(t,"a",function(){return u});var u=function(e){return function(){return{component:e,loading:o,delay:0}}}},"3a2e":function(e,t,a){},"504c":function(e,t,a){var s=a("0d58"),n=a("6821"),r=a("52a7").f;e.exports=function(e){return function(t){var a,c=n(t),l=s(c),i=l.length,o=0,u=[];while(i>o)r.call(c,a=l[o++])&&u.push(e?[a,c[a]]:c[a]);return u}}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},7333:function(e,t,a){"use strict";var s=a("0d58"),n=a("2621"),r=a("52a7"),c=a("4bf8"),l=a("626a"),i=Object.assign;e.exports=!i||a("79e5")(function(){var e={},t={},a=Symbol(),s="abcdefghijklmnopqrst";return e[a]=7,s.split("").forEach(function(e){t[e]=e}),7!=i({},e)[a]||Object.keys(i({},t)).join("")!=s})?function(e,t){var a=c(e),i=arguments.length,o=1,u=n.f,f=r.f;while(i>o){var p,v=l(arguments[o++]),h=u?s(v).concat(u(v)):s(v),m=h.length,b=0;while(m>b)f.call(v,p=h[b++])&&(a[p]=v[p])}return a}:i},"7f7f":function(e,t,a){var s=a("86cc").f,n=Function.prototype,r=/^\s*function ([^ (]*)/,c="name";c in n||a("9e1e")&&s(n,c,{configurable:!0,get:function(){try{return(""+this).match(r)[1]}catch(e){return""}}})},8615:function(e,t,a){var s=a("5ca1"),n=a("504c")(!1);s(s.S,"Object",{values:function(e){return n(e)}})},"8afe":function(e,t,a){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}function n(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(e){return s(e)||n(e)||r()}a.d(t,"a",function(){return c})},c521:function(e,t,a){},dedd:function(e,t,a){"use strict";a.d(t,"a",function(){return s});var s=function(e){var t={};return Object.keys(e).filter(function(t){return void 0!==e[t]&&""!==e[t]}).forEach(function(a){t[a]=e[a]}),t}},e046:function(e,t,a){"use strict";var s=a("c521"),n=a.n(s);n.a},f751:function(e,t,a){var s=a("5ca1");s(s.S+s.F,"Object",{assign:a("7333")})},f794:function(e,t,a){"use strict";var s=a("3a2e"),n=a.n(s);n.a}}]);